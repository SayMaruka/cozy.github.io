



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Cozy documentation">
      
      
        <link rel="canonical" href="https://docs.cozy.io/cozy-client/api/cozy-client/">
      
      
        <meta name="author" content="CozyCloud - https://cozy.io">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[^a-zа-яё0-9\-\.]">
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.0">
    
    
      
        <title>Cozy Client API - Cozy Developer Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.0284f74d.css">
      
        <link rel="stylesheet" href="../../../assets/stylesheets/application-palette.01803549.css">
      
      
        
        
        <meta name="theme-color" content="#2196f3">
      
    
    
    
      <script src="../../../assets/javascripts/modernizr.74668098.js"></script>
    
    <script type="text/javascript">
        // Used in extra.js, we have to define the variable here since
        // we need access to the "config" jinja variable
        window.outsideDocs = [{"name": "cozy-app-publish", "repo": "https://github.com/cozy/cozy-app-publish.git", "subdir": "."}, {"name": "cozy-apps-registry", "repo": "https://github.com/cozy/cozy-apps-registry.git", "subdir": "."}, {"name": "cozy-client", "repo": "https://github.com/cozy/cozy-client.git", "subdir": "docs"}, {"name": "cozy-client-js", "repo": "https://github.com/cozy/cozy-client-js.git", "subdir": "docs"}, {"name": "cozy-ui", "repo": "https://github.com/cozy/cozy-ui.git", "subdir": "docs"}, {"name": "cozy-doctypes", "repo": "https://github.com/cozy/cozy-doctypes.git", "subdir": "."}, {"name": "cozy-konnector-libs", "repo": "https://github.com/konnectors/libs.git", "subdir": "packages/cozy-konnector-libs/docs"}, {"name": "cozy-scripts", "repo": "https://github.com/cozy/create-cozy-app.git", "subdir": "packages/cozy-scripts/docs"}, {"name": "cozy-stack", "repo": "https://github.com/cozy/cozy-stack.git", "subdir": "docs"}, {"name": "konitor", "repo": "https://github.com/konnectors/konitor.git", "subdir": "docs"}, {"name": "babel-preset-cozy-app", "repo": "https://github.com/cozy/cozy-libs.git", "subdir": "packages/babel-preset-cozy-app"}, {"name": "commitlint-config-cozy", "repo": "https://github.com/cozy/cozy-libs.git", "subdir": "packages/commitlint-config-cozy"}, {"name": "cozy-device-helper", "repo": "https://github.com/cozy/cozy-libs.git", "subdir": "packages/cozy-device-helper"}, {"name": "eslint-config-cozy-app", "repo": "https://github.com/cozy/cozy-libs.git", "subdir": "packages/eslint-config-cozy-app"}, {"name": "cozy-flags", "repo": "https://github.com/cozy/cozy-libs.git", "subdir": "packages/cozy-flags"}, {"name": "cozy-realtime", "repo": "https://github.com/cozy/cozy-libs.git", "subdir": "packages/cozy-realtime"}, {"name": "cozy-banks", "repo": "https://github.com/cozy/cozy-banks.git", "subdir": "."}, {"name": "ach", "repo": "https://github.com/cozy/ach.git", "subdir": "."}, {"name": "cozy-coclyco", "repo": "https://github.com/cozy/cozy-coclyco.git", "subdir": "."}]
    </script>

    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,400i,700|Ubuntu+Mono&display=fallback">
        <style>body,input{font-family:"Lato","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../../css/extra.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue" data-md-color-accent="blue">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#classes" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://docs.cozy.io/" title="Cozy Developer Documentation" class="md-header-nav__button md-logo">
          
            <i class="md-icon">cloud</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Cozy Developer Documentation
            </span>
            <span class="md-header-nav__topic">
              
                Cozy Client API
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/cozy/cozy.github.io/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../../.." title="Home" class="md-tabs__link">
        Home
      </a>
    
  </li>

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../tutorials/app/" title="Tutorials" class="md-tabs__link">
          Tutorials
        </a>
      
    </li>
  

      
        
  
  
    
    
  
  
    <li class="md-tabs__item">
      
        <a href="../../../howTos/dev/runCozyDocker/" title="How-to" class="md-tabs__link">
          How-to
        </a>
      
    </li>
  

  

      
        
  
  
    
    
  
  
    
    
  
  
    <li class="md-tabs__item">
      
        <a href="../../getting-started/" title="Libraries" class="md-tabs__link md-tabs__link--active">
          Libraries
        </a>
      
    </li>
  

  

  

      
        
  
  
    
    
  
  
    <li class="md-tabs__item">
      
        <a href="../../../cozy-banks/" title="Applications" class="md-tabs__link">
          Applications
        </a>
      
    </li>
  

  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://docs.cozy.io/" title="Cozy Developer Documentation" class="md-nav__button md-logo">
      
        <i class="md-icon">cloud</i>
      
    </a>
    Cozy Developer Documentation
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/cozy/cozy.github.io/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tutorials/app/" title="Create Your Application" class="md-nav__link">
      Create Your Application
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-2" type="checkbox" id="nav-2-2">
    
    <label class="md-nav__link" for="nav-2-2">
      Develop a Connector
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-2">
        Develop a Connector
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tutorials/konnector/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tutorials/konnector/getting-started/" title="Basic structure" class="md-nav__link">
      Basic structure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tutorials/konnector/scrape-data/" title="Scrape data" class="md-nav__link">
      Scrape data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tutorials/konnector/save-data/" title="Save data" class="md-nav__link">
      Save data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tutorials/konnector/packaging/" title="Package your connector" class="md-nav__link">
      Package your connector
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-3" type="checkbox" id="nav-2-3">
    
    <label class="md-nav__link" for="nav-2-3">
      Manipulate data
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-3">
        Manipulate data
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tutorials/data/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tutorials/data/queries/" title="Queries" class="md-nav__link">
      Queries
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tutorials/data/pouchdb/" title="PouchDB" class="md-nav__link">
      PouchDB
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tutorials/data/doctypes/" title="DocTypes" class="md-nav__link">
      DocTypes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tutorials/data/advanced/" title="Advanced" class="md-nav__link">
      Advanced
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tutorials/selfhost-debian/" title="Self-Host on Debian" class="md-nav__link">
      Self-Host on Debian
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      How-to
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        How-to
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-1" type="checkbox" id="nav-3-1">
    
    <label class="md-nav__link" for="nav-3-1">
      Dev
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-1">
        Dev
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../howTos/dev/runCozyDocker/" title="Run an App in a Cozy using Docker" class="md-nav__link">
      Run an App in a Cozy using Docker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../howTos/dev/services/" title="Develop a service from your application" class="md-nav__link">
      Develop a service from your application
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../howTos/dev/hmr/" title="Use Hot Module Replacement in Your App" class="md-nav__link">
      Use Hot Module Replacement in Your App
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../howTos/dev/cordova/" title="Make a Mobile App Using Cordova" class="md-nav__link">
      Make a Mobile App Using Cordova
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../howTos/dev/connect-mobile-app-local-stack/" title="Connect a Mobile App to Your Local Stack" class="md-nav__link">
      Connect a Mobile App to Your Local Stack
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../howTos/dev/sendmail/" title="Send and Receive E-mails in Development" class="md-nav__link">
      Send and Receive E-mails in Development
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../references/git-flow/" title="Our Front-End Git Flow" class="md-nav__link">
      Our Front-End Git Flow
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../references/tech-intro/" title="Technical introduction to the Cozy platform" class="md-nav__link">
      Technical introduction to the Cozy platform
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2" type="checkbox" id="nav-3-2">
    
    <label class="md-nav__link" for="nav-3-2">
      Synchronize
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-2">
        Synchronize
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../howTos/sync/linux/" title="Install Cozy Drive on GNU/Linux" class="md-nav__link">
      Install Cozy Drive on GNU/Linux
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      Libraries
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Libraries
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-1" type="checkbox" id="nav-4-1" checked>
    
    <label class="md-nav__link" for="nav-4-1">
      Develop an application
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-1">
        Develop an application
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-1-1" type="checkbox" id="nav-4-1-1" checked>
    
    <label class="md-nav__link" for="nav-4-1-1">
      Access data (client)
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-4-1-1">
        Access data (client)
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting-started/" title="Getting started" class="md-nav__link">
      Getting started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../architecture/" title="Architecture" class="md-nav__link">
      Architecture
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../relationships/" title="Using relationships" class="md-nav__link">
      Using relationships
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../metadata/" title="cozyMetadata maintenance" class="md-nav__link">
      cozyMetadata maintenance
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-1-1-5" type="checkbox" id="nav-4-1-1-5">
    
    <label class="md-nav__link" for="nav-4-1-1-5">
      React
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-4-1-1-5">
        React
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../react-integration/" title="React integration" class="md-nav__link">
      React integration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../hooks/" title="Hooks" class="md-nav__link">
      Hooks
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../details/" title="Other details" class="md-nav__link">
      Other details
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Cozy Client API
      </label>
    
    <a href="./" title="Cozy Client API" class="md-nav__link md-nav__link--active">
      Cozy Client API
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#classes" title="Classes" class="md-nav__link">
    Classes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#constants" title="Constants" class="md-nav__link">
    Constants
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions" title="Functions" class="md-nav__link">
    Functions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#typedefs" title="Typedefs" class="md-nav__link">
    Typedefs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#association" title="Association" class="md-nav__link">
    Association
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new-associationtarget-name-doctype-options" title="new Association(target, name, doctype, options)" class="md-nav__link">
    new Association(target, name, doctype, options)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#associationtarget-object" title="association.target : object" class="md-nav__link">
    association.target : object
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#associationname-string" title="association.name : string" class="md-nav__link">
    association.name : string
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#associationdoctype-string" title="association.doctype : string" class="md-nav__link">
    association.doctype : string
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#associationget-function" title="association.get : function" class="md-nav__link">
    association.get : function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#associationsave-function" title="association.save : function" class="md-nav__link">
    association.save : function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#associationdispatch-function" title="association.dispatch : function" class="md-nav__link">
    association.dispatch : function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#associationraw" title="association.raw" class="md-nav__link">
    association.raw
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#associationdata" title="association.data" class="md-nav__link">
    association.data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#associationqueryquerydefinition" title="association.query(queryDefinition)" class="md-nav__link">
    association.query(queryDefinition)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#associationmutate" title="association.mutate()" class="md-nav__link">
    association.mutate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#associationquery-querydefinition" title="Association.query() ⇒ QueryDefinition" class="md-nav__link">
    Association.query() ⇒ QueryDefinition
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hasmany" title="HasMany" class="md-nav__link">
    HasMany
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new-hasmany" title="new HasMany()" class="md-nav__link">
    new HasMany()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hasmanycount-number" title="hasMany.count ⇒ number" class="md-nav__link">
    hasMany.count ⇒ number
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hasmanyaddbyid" title="hasMany.addById()" class="md-nav__link">
    hasMany.addById()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hasmanyinplace" title="HasManyInPlace" class="md-nav__link">
    HasManyInPlace
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new-hasmanyinplace" title="new HasManyInPlace()" class="md-nav__link">
    new HasManyInPlace()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hasmanytriggers-hasmany" title="HasManyTriggers ⇐ HasMany" class="md-nav__link">
    HasManyTriggers ⇐ HasMany
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hasmanytriggerscount-number" title="hasManyTriggers.count ⇒ number" class="md-nav__link">
    hasManyTriggers.count ⇒ number
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hasmanytriggersaddbyid" title="hasManyTriggers.addById()" class="md-nav__link">
    hasManyTriggers.addById()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hasmanytriggersquery" title="HasManyTriggers.query()" class="md-nav__link">
    HasManyTriggers.query()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cozyclient" title="CozyClient" class="md-nav__link">
    CozyClient
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new-cozyclientoptions" title="new CozyClient(options)" class="md-nav__link">
    new CozyClient(options)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientregisterplugin" title="cozyClient.registerPlugin()" class="md-nav__link">
    cozyClient.registerPlugin()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientloginoptions-promise" title="cozyClient.login(options) ⇒ Promise" class="md-nav__link">
    cozyClient.login(options) ⇒ Promise
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientlogout-promise" title="cozyClient.logout() ⇒ Promise" class="md-nav__link">
    cozyClient.logout() ⇒ Promise
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientcollectiondoctype-documentcollection" title="cozyClient.collection(doctype) ⇒ DocumentCollection" class="md-nav__link">
    cozyClient.collection(doctype) ⇒ DocumentCollection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientcreatetype-doc-references-options-promise" title="cozyClient.create(type, doc, references, options) ⇒ Promise" class="md-nav__link">
    cozyClient.create(type, doc, references, options) ⇒ Promise
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientgetdocumentsaveplandocument-referencesbyname-arraymutation" title="cozyClient.getDocumentSavePlan(document, [referencesByName]) ⇒ Array.&lt;Mutation&gt;" class="md-nav__link">
    cozyClient.getDocumentSavePlan(document, [referencesByName]) ⇒ Array.&lt;Mutation&gt;
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientdestroydocument-document" title="cozyClient.destroy(document) ⇒ Document" class="md-nav__link">
    cozyClient.destroy(document) ⇒ Document
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientqueryquerydefinition-options-queryresult" title="cozyClient.query(queryDefinition, options) ⇒ QueryResult" class="md-nav__link">
    cozyClient.query(queryDefinition, options) ⇒ QueryResult
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientqueryallquerydefinition-options-array" title="cozyClient.queryAll(queryDefinition, options) ⇒ Array" class="md-nav__link">
    cozyClient.queryAll(queryDefinition, options) ⇒ Array
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclienthydratedocumentsdoctype-documents-arrayhydrateddocument" title="cozyClient.hydrateDocuments(doctype, documents) ⇒ Array.&lt;HydratedDocument&gt;" class="md-nav__link">
    cozyClient.hydrateDocuments(doctype, documents) ⇒ Array.&lt;HydratedDocument&gt;
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclienthydratedocumentdocument-schemaarg-hydrateddocument" title="cozyClient.hydrateDocument(document, schemaArg) ⇒ HydratedDocument" class="md-nav__link">
    cozyClient.hydrateDocument(document, schemaArg) ⇒ HydratedDocument
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientmakenewdocument" title="cozyClient.makeNewDocument()" class="md-nav__link">
    cozyClient.makeNewDocument()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientgetassociation" title="cozyClient.getAssociation()" class="md-nav__link">
    cozyClient.getAssociation()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientgetrelationshipstoreaccessors" title="cozyClient.getRelationshipStoreAccessors()" class="md-nav__link">
    cozyClient.getRelationshipStoreAccessors()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientgetcollectionfromstatetype-arraydocument" title="cozyClient.getCollectionFromState(type) ⇒ Array.&lt;Document&gt;" class="md-nav__link">
    cozyClient.getCollectionFromState(type) ⇒ Array.&lt;Document&gt;
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientgetdocumentfromstatetype-id-document" title="cozyClient.getDocumentFromState(type, id) ⇒ Document" class="md-nav__link">
    cozyClient.getDocumentFromState(type, id) ⇒ Document
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientgetqueryfromstateid-options-querystate" title="cozyClient.getQueryFromState(id, options) ⇒ QueryState" class="md-nav__link">
    cozyClient.getQueryFromState(id, options) ⇒ QueryState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientregistercozyurl-object" title="cozyClient.register(cozyURL) ⇒ object" class="md-nav__link">
    cozyClient.register(cozyURL) ⇒ object
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientstartoauthflowopenurlcallback-object" title="cozyClient.startOAuthFlow(openURLCallback) ⇒ object" class="md-nav__link">
    cozyClient.startOAuthFlow(openURLCallback) ⇒ object
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientrenewauthorization-object" title="cozyClient.renewAuthorization() ⇒ object" class="md-nav__link">
    cozyClient.renewAuthorization() ⇒ object
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientsetstorestore-options" title="cozyClient.setStore(store, options)" class="md-nav__link">
    cozyClient.setStore(store, options)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientcheckforrevocation" title="cozyClient.checkForRevocation()" class="md-nav__link">
    cozyClient.checkForRevocation()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclienthandlerevocationchange" title="cozyClient.handleRevocationChange()" class="md-nav__link">
    cozyClient.handleRevocationChange()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclienthandletokenrefresh" title="cozyClient.handleTokenRefresh()" class="md-nav__link">
    cozyClient.handleTokenRefresh()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientcreateclient" title="cozyClient.createClient()" class="md-nav__link">
    cozyClient.createClient()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientgetinstanceoptions-object" title="cozyClient.getInstanceOptions() ⇒ object" class="md-nav__link">
    cozyClient.getInstanceOptions() ⇒ object
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientloadinstanceoptionsfromdomselector-void" title="cozyClient.loadInstanceOptionsFromDOM([selector]) ⇒ void" class="md-nav__link">
    cozyClient.loadInstanceOptionsFromDOM([selector]) ⇒ void
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientsetdatadata" title="cozyClient.setData(data)" class="md-nav__link">
    cozyClient.setData(data)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientfromoldclient" title="CozyClient.fromOldClient()" class="md-nav__link">
    CozyClient.fromOldClient()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientfromoldoauthclient-cozyclient" title="CozyClient.fromOldOAuthClient() ⇒ CozyClient" class="md-nav__link">
    CozyClient.fromOldOAuthClient() ⇒ CozyClient
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientfromenv" title="CozyClient.fromEnv()" class="md-nav__link">
    CozyClient.fromEnv()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientfromdomselector-options-object" title="CozyClient.fromDOM(selector, options) ⇒ object" class="md-nav__link">
    CozyClient.fromDOM(selector, options) ⇒ object
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientregisterhookdoctype-name-fn" title="CozyClient.registerHook(doctype, name, fn)" class="md-nav__link">
    CozyClient.registerHook(doctype, name, fn)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#querydefinition" title="QueryDefinition" class="md-nav__link">
    QueryDefinition
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new-querydefinitionoptions" title="new QueryDefinition(options)" class="md-nav__link">
    new QueryDefinition(options)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querydefinitionchecksortordersortselectorindexedfields" title="queryDefinition.checkSortOrder(sort|selector|indexedFields)" class="md-nav__link">
    queryDefinition.checkSortOrder(sort|selector|indexedFields)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querydefinitiongetbyidid-querydefinition" title="queryDefinition.getById(id) ⇒ QueryDefinition" class="md-nav__link">
    queryDefinition.getById(id) ⇒ QueryDefinition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querydefinitiongetbyidsids-querydefinition" title="queryDefinition.getByIds(ids) ⇒ QueryDefinition" class="md-nav__link">
    queryDefinition.getByIds(ids) ⇒ QueryDefinition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querydefinitionwhereselector-querydefinition" title="queryDefinition.where(selector) ⇒ QueryDefinition" class="md-nav__link">
    queryDefinition.where(selector) ⇒ QueryDefinition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querydefinitionselectfields-querydefinition" title="queryDefinition.select(fields) ⇒ QueryDefinition" class="md-nav__link">
    queryDefinition.select(fields) ⇒ QueryDefinition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querydefinitionindexfieldsindexedfields-querydefinition" title="queryDefinition.indexFields(indexedFields) ⇒ QueryDefinition" class="md-nav__link">
    queryDefinition.indexFields(indexedFields) ⇒ QueryDefinition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querydefinitionsortbysort-querydefinition" title="queryDefinition.sortBy(sort) ⇒ QueryDefinition" class="md-nav__link">
    queryDefinition.sortBy(sort) ⇒ QueryDefinition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querydefinitionincludeincludes-querydefinition" title="queryDefinition.include(includes) ⇒ QueryDefinition" class="md-nav__link">
    queryDefinition.include(includes) ⇒ QueryDefinition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querydefinitionlimitbylimit-querydefinition" title="queryDefinition.limitBy(limit) ⇒ QueryDefinition" class="md-nav__link">
    queryDefinition.limitBy(limit) ⇒ QueryDefinition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querydefinitionoffsetskip-querydefinition" title="queryDefinition.offset(skip) ⇒ QueryDefinition" class="md-nav__link">
    queryDefinition.offset(skip) ⇒ QueryDefinition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querydefinitionoffsetcursorcursor-querydefinition" title="queryDefinition.offsetCursor(cursor) ⇒ QueryDefinition" class="md-nav__link">
    queryDefinition.offsetCursor(cursor) ⇒ QueryDefinition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querydefinitionoffsetbookmarkbookmark-querydefinition" title="queryDefinition.offsetBookmark(bookmark) ⇒ QueryDefinition" class="md-nav__link">
    queryDefinition.offsetBookmark(bookmark) ⇒ QueryDefinition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querydefinitionreferencedbydocument-querydefinition" title="queryDefinition.referencedBy(document) ⇒ QueryDefinition" class="md-nav__link">
    queryDefinition.referencedBy(document) ⇒ QueryDefinition
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#schema" title="Schema" class="md-nav__link">
    Schema
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#schemagetdoctypeschema" title="schema.getDoctypeSchema()" class="md-nav__link">
    schema.getDoctypeSchema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schemagetrelationship" title="schema.getRelationship()" class="md-nav__link">
    schema.getRelationship()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schemavalidate" title="schema.validate()" class="md-nav__link">
    schema.validate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gethasmanyitem" title="getHasManyItem" class="md-nav__link">
    getHasManyItem
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sethasmanyitem" title="setHasManyItem" class="md-nav__link">
    setHasManyItem
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#updatehasmanyitem" title="updateHasManyItem" class="md-nav__link">
    updateHasManyItem
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generateweblink-string" title="generateWebLink ⇒ string" class="md-nav__link">
    generateWebLink ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getmutederrors-array" title="getMutedErrors ⇒ Array" class="md-nav__link">
    getMutedErrors ⇒ Array
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#muteerror-cozyaccount" title="muteError ⇒ CozyAccount" class="md-nav__link">
    muteError ⇒ CozyAccount
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getcontractsyncstatusfromaccount" title="getContractSyncStatusFromAccount" class="md-nav__link">
    getContractSyncStatusFromAccount
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setcontractsyncstatusinaccount" title="setContractSyncStatusInAccount" class="md-nav__link">
    setContractSyncStatusInAccount
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getstoreurl-string" title="getStoreURL ⇒ string" class="md-nav__link">
    getStoreURL ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getstoreinstallationurl-string" title="getStoreInstallationURL ⇒ string" class="md-nav__link">
    getStoreInstallationURL ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#isinstalled-object" title="isInstalled ⇒ object" class="md-nav__link">
    isInstalled ⇒ object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#geturl-string" title="getUrl ⇒ string" class="md-nav__link">
    getUrl ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getappdisplayname-string" title="getAppDisplayName ⇒ string" class="md-nav__link">
    getAppDisplayName ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getinitials-string" title="getInitials ⇒ string" class="md-nav__link">
    getInitials ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getprimaryemail-string" title="getPrimaryEmail ⇒ string" class="md-nav__link">
    getPrimaryEmail ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getprimarycozy-string" title="getPrimaryCozy ⇒ string" class="md-nav__link">
    getPrimaryCozy ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getprimarycozydomain-string" title="getPrimaryCozyDomain ⇒ string" class="md-nav__link">
    getPrimaryCozyDomain ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getprimaryphone-string" title="getPrimaryPhone ⇒ string" class="md-nav__link">
    getPrimaryPhone ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getprimaryaddress-string" title="getPrimaryAddress ⇒ string" class="md-nav__link">
    getPrimaryAddress ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#makefullname-string" title="makeFullname ⇒ string" class="md-nav__link">
    makeFullname ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getfullname-string" title="getFullname ⇒ string" class="md-nav__link">
    getFullname ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#makedisplayname-string" title="makeDisplayName ⇒ string" class="md-nav__link">
    makeDisplayName ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getdisplayname-string" title="getDisplayName ⇒ string" class="md-nav__link">
    getDisplayName ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#makedefaultsortindexvalue-string" title="makeDefaultSortIndexValue ⇒ string" class="md-nav__link">
    makeDefaultSortIndexValue ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getdefaultsortindexvalue-string" title="getDefaultSortIndexValue ⇒ string" class="md-nav__link">
    getDefaultSortIndexValue ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getindexbyfamilynamegivennameemailcozyurl-string" title="~~getIndexByFamilyNameGivenNameEmailCozyUrl ⇒ string~~" class="md-nav__link">
    ~~getIndexByFamilyNameGivenNameEmailCozyUrl ⇒ string~~
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#splitfilename-object" title="splitFilename ⇒ object" class="md-nav__link">
    splitFilename ⇒ object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#isfile" title="isFile" class="md-nav__link">
    isFile
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#isdirectory" title="isDirectory" class="md-nav__link">
    isDirectory
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#isnote" title="isNote" class="md-nav__link">
    isNote
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#isshortcut-boolean" title="isShortcut ⇒ boolean" class="md-nav__link">
    isShortcut ⇒ boolean
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getsharingshortcutstatus-string" title="getSharingShortcutStatus ⇒ string" class="md-nav__link">
    getSharingShortcutStatus ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getsharingshortcuttargetmime-string" title="getSharingShortcutTargetMime ⇒ string" class="md-nav__link">
    getSharingShortcutTargetMime ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getsharingshortcuttargetdoctype-string" title="getSharingShortcutTargetDoctype ⇒ string" class="md-nav__link">
    getSharingShortcutTargetDoctype ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#issharingshorcut-boolean" title="isSharingShorcut ⇒ boolean" class="md-nav__link">
    isSharingShorcut ⇒ boolean
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#issharingshorcutnew-boolean" title="isSharingShorcutNew ⇒ boolean" class="md-nav__link">
    isSharingShorcutNew ⇒ boolean
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ensuremagicfolder-object" title="ensureMagicFolder ⇒ object" class="md-nav__link">
    ensureMagicFolder ⇒ object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#createfolderwithreference-object" title="createFolderWithReference ⇒ object" class="md-nav__link">
    createFolderWithReference ⇒ object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getreferencedfolder-array" title="getReferencedFolder ⇒ Array" class="md-nav__link">
    getReferencedFolder ⇒ Array
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shoulddisplayoffers" title="shouldDisplayOffers" class="md-nav__link">
    shouldDisplayOffers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hasanoffer" title="hasAnOffer" class="md-nav__link">
    hasAnOffer
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#buildpremiumlink" title="buildPremiumLink" class="md-nav__link">
    buildPremiumLink
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generateprivateurl" title="generatePrivateUrl" class="md-nav__link">
    generatePrivateUrl
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fetchurl-string" title="fetchURL ⇒ string" class="md-nav__link">
    fetchURL ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#triggerstates" title="triggerStates" class="md-nav__link">
    triggerStates
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#triggerstatesgetlastexecution" title="triggerStates.getLastExecution()" class="md-nav__link">
    triggerStates.getLastExecution()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triggerstatesgetlastsuccess" title="triggerStates.getLastsuccess()" class="md-nav__link">
    triggerStates.getLastsuccess()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triggerstatesiserrored" title="triggerStates.isErrored()" class="md-nav__link">
    triggerStates.isErrored()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triggerstatesgetlasterrortype" title="triggerStates.getLastErrorType()" class="md-nav__link">
    triggerStates.getLastErrorType()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fetchpolicies" title="fetchPolicies" class="md-nav__link">
    fetchPolicies
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fetchpoliciesolderthandelay-function" title="fetchPolicies.olderThan(delay) ⇒ function" class="md-nav__link">
    fetchPolicies.olderThan(delay) ⇒ function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fetchpoliciesnofetch" title="fetchPolicies.noFetch()" class="md-nav__link">
    fetchPolicies.noFetch()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q" title="Q" class="md-nav__link">
    Q
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#isqueryloading" title="isQueryLoading" class="md-nav__link">
    isQueryLoading
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hasquerybeenloaded" title="hasQueryBeenLoaded" class="md-nav__link">
    hasQueryBeenLoaded
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#createclientinteractiveclientoptions" title="createClientInteractive(clientOptions)" class="md-nav__link">
    createClientInteractive(clientOptions)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#withclientcomponent-function" title="withClient(Component) ⇒ function" class="md-nav__link">
    withClient(Component) ⇒ function
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#queryconnectqueryspecs-function" title="queryConnect(querySpecs) ⇒ function" class="md-nav__link">
    queryConnect(querySpecs) ⇒ function
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#queryconnectflatqueryspecs-function" title="queryConnectFlat(querySpecs) ⇒ function" class="md-nav__link">
    queryConnectFlat(querySpecs) ⇒ function
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#geterrorcomponenterror-function-null" title="getErrorComponent(error) ⇒ function | null" class="md-nav__link">
    getErrorComponent(error) ⇒ function | null
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usefetchjson" title="useFetchJSON()" class="md-nav__link">
    useFetchJSON()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usequeryquerydefinition-options-object" title="useQuery(queryDefinition, options) ⇒ object" class="md-nav__link">
    useQuery(queryDefinition, options) ⇒ object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sanitizecategories" title="sanitizeCategories()" class="md-nav__link">
    sanitizeCategories()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sanitizemanifest-manifest" title="sanitize(manifest) ⇒ Manifest" class="md-nav__link">
    sanitize(manifest) ⇒ Manifest
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#createmockclientoptions-cozyclient" title="createMockClient(options) ⇒ CozyClient" class="md-nav__link">
    createMockClient(options) ⇒ CozyClient
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#normalizefile-object" title="normalize(file) ⇒ object" class="md-nav__link">
    normalize(file) ⇒ object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ensurefilepathfile-parent-object" title="ensureFilePath(file, parent) ⇒ object" class="md-nav__link">
    ensureFilePath(file, parent) ⇒ object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getparentfolderidfile-string-null" title="getParentFolderId(file) ⇒ string | null" class="md-nav__link">
    getParentFolderId(file) ⇒ string | null
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fetchownclient-arraypermissionitem" title="fetchOwn(client) ⇒ Array.&lt;PermissionItem&gt;" class="md-nav__link">
    fetchOwn(client) ⇒ Array.&lt;PermissionItem&gt;
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#isfortypepermission-type" title="isForType(permission, type)" class="md-nav__link">
    isForType(permission, type)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fetchmore" title="fetchMore()" class="md-nav__link">
    fetchMore()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getqueryattributes" title="getQueryAttributes()" class="md-nav__link">
    getQueryAttributes()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cancelablepromise-augmentedpromise" title="cancelable(promise) ⇒ AugmentedPromise" class="md-nav__link">
    cancelable(promise) ⇒ AugmentedPromise
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#withmutationsmutations-function" title="~~withMutations(...mutations) ⇒ function~~" class="md-nav__link">
    ~~withMutations(...mutations) ⇒ function~~
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#querystate-object" title="QueryState : object" class="md-nav__link">
    QueryState : object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference-object" title="Reference : object" class="md-nav__link">
    Reference : object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cozyaccount-object" title="CozyAccount : object" class="md-nav__link">
    CozyAccount : object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#document-object" title="Document : object" class="md-nav__link">
    Document : object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#permissionverb-all-get-patch-post-put-delete" title="PermissionVerb : &#x27;ALL&#x27; | &#x27;GET&#x27; | &#x27;PATCH&#x27; | &#x27;POST&#x27; | &#x27;PUT&#x27; | &#x27;DELETE&#x27;" class="md-nav__link">
    PermissionVerb : &#x27;ALL&#x27; | &#x27;GET&#x27; | &#x27;PATCH&#x27; | &#x27;POST&#x27; | &#x27;PUT&#x27; | &#x27;DELETE&#x27;
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#permissionitem-object" title="PermissionItem : object" class="md-nav__link">
    PermissionItem : object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydratedquerystate-hydratedquerystate" title="HydratedQueryState ⇒ HydratedQueryState" class="md-nav__link">
    HydratedQueryState ⇒ HydratedQueryState
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#registryapp-object" title="RegistryApp : object" class="md-nav__link">
    RegistryApp : object
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-pouch-link/" title="Cozy Pouch Link API" class="md-nav__link">
      Cozy Pouch Link API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack-client/" title="Cozy Stack Client API" class="md-nav__link">
      Cozy Stack Client API
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-ui/" title="Build a UI (ui)" class="md-nav__link">
      Build a UI (ui)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-1-3" type="checkbox" id="nav-4-1-3">
    
    <label class="md-nav__link" for="nav-4-1-3">
      Define data (doctypes)
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-4-1-3">
        Define data (doctypes)
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-doctypes/docs/" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-doctypes/docs/io.cozy.accounts/" title="Accounts" class="md-nav__link">
      Accounts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-doctypes/docs/io.cozy.apps/" title="Apps" class="md-nav__link">
      Apps
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-doctypes/docs/io.cozy.apps.suggestions/" title="App suggestions" class="md-nav__link">
      App suggestions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-doctypes/docs/io.cozy.bank/" title="Banking doctypes" class="md-nav__link">
      Banking doctypes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-doctypes/docs/io.cozy.bills/" title="Bills" class="md-nav__link">
      Bills
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-doctypes/docs/io.cozy.konnectors/" title="Connectors" class="md-nav__link">
      Connectors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-doctypes/docs/io.cozy.contacts/" title="Contacts" class="md-nav__link">
      Contacts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-doctypes/docs/io.cozy.docrules/" title="DocRules" class="md-nav__link">
      DocRules
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-doctypes/docs/io.cozy.files/" title="Files" class="md-nav__link">
      Files
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-doctypes/docs/io.cozy.files_metadata/" title="Files metadata" class="md-nav__link">
      Files metadata
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-doctypes/docs/io.cozy.identities/" title="Identities" class="md-nav__link">
      Identities
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-doctypes/docs/io.cozy.notes/" title="Notes" class="md-nav__link">
      Notes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-doctypes/docs/io.cozy.notifications/" title="Notifications" class="md-nav__link">
      Notifications
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-doctypes/docs/io.cozy.permissions/" title="Permissions" class="md-nav__link">
      Permissions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-doctypes/docs/io.cozy.photos/" title="Photos" class="md-nav__link">
      Photos
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-doctypes/docs/io.cozy.procedures/" title="Procedures" class="md-nav__link">
      Procedures
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-doctypes/docs/io.cozy.sessions.logins/" title="Sessions Logins" class="md-nav__link">
      Sessions Logins
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-doctypes/docs/io.cozy.settings/" title="Settings" class="md-nav__link">
      Settings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-doctypes/docs/io.cozy.sharings/" title="Sharings" class="md-nav__link">
      Sharings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-doctypes/docs/io.cozy.todos/" title="Todos" class="md-nav__link">
      Todos
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-doctypes/docs/io.cozy.account_types/" title="Accounts Types" class="md-nav__link">
      Accounts Types
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-doctypes/docs/cc.cozycloud.autocategorization/" title="Autocategorization" class="md-nav__link">
      Autocategorization
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-doctypes/docs/io.cozy.exports/" title="Exports" class="md-nav__link">
      Exports
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-doctypes/docs/io.cozy.jobs/" title="Jobs" class="md-nav__link">
      Jobs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-doctypes/docs/io.cozy.oauth.clients/" title="OAuth Clients" class="md-nav__link">
      OAuth Clients
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-doctypes/docs/io.cozy.oauth.access_codes/" title="OAuth Access Codes" class="md-nav__link">
      OAuth Access Codes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-doctypes/docs/io.cozy.triggers/" title="Triggers" class="md-nav__link">
      Triggers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-doctypes/docs/io.cozy.triggers.state/" title="Triggers state" class="md-nav__link">
      Triggers state
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-doctypes/docs/io.cozy.remote.requests/" title="Remote requests" class="md-nav__link">
      Remote requests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-doctypes/docs/io.cozy.sessions/" title="Sessions" class="md-nav__link">
      Sessions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-doctypes/docs/io.cozy.shared/" title="Shared" class="md-nav__link">
      Shared
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-doctypes/docs/io.cozy.terms/" title="Terms" class="md-nav__link">
      Terms
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-doctypes/docs/com.bitwarden.ciphers/" title="Bitwarden ciphers" class="md-nav__link">
      Bitwarden ciphers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-doctypes/docs/com.bitwarden.folders/" title="Bitwarden folders" class="md-nav__link">
      Bitwarden folders
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-doctypes/docs/com.unibet.bets/" title="Bets Unibet" class="md-nav__link">
      Bets Unibet
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-1-4" type="checkbox" id="nav-4-1-4">
    
    <label class="md-nav__link" for="nav-4-1-4">
      Advanced
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-4-1-4">
        Advanced
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-realtime/" title="Realtime data (realtime)" class="md-nav__link">
      Realtime data (realtime)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-device-helper/" title="Native devices (device-helper)" class="md-nav__link">
      Native devices (device-helper)
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-2" type="checkbox" id="nav-4-2">
    
    <label class="md-nav__link" for="nav-4-2">
      Develop a konnector
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-2">
        Develop a konnector
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-2-1" type="checkbox" id="nav-4-2-1">
    
    <label class="md-nav__link" for="nav-4-2-1">
      Scrape data (konnector-libs)
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-4-2-1">
        Scrape data (konnector-libs)
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-konnector-libs/" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-konnector-libs/api/" title="API" class="md-nav__link">
      API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-konnector-libs/cli/" title="CLI" class="md-nav__link">
      CLI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-konnector-libs/dev/" title="Develop" class="md-nav__link">
      Develop
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-konnector-libs/errors/" title="Errors" class="md-nav__link">
      Errors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-konnector-libs/operation-linking/" title="Operation linking" class="md-nav__link">
      Operation linking
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-konnector-libs/synchronization/" title="Synchronization" class="md-nav__link">
      Synchronization
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../konitor/cli/" title="konitor" class="md-nav__link">
      konitor
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-app-publish/" title="Publish on the store (app-publish)" class="md-nav__link">
      Publish on the store (app-publish)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-4" type="checkbox" id="nav-4-4">
    
    <label class="md-nav__link" for="nav-4-4">
      Dev tools
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-4">
        Dev tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../babel-preset-cozy-app/" title="Babel preset" class="md-nav__link">
      Babel preset
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../commitlint-config-cozy/" title="Commitlint" class="md-nav__link">
      Commitlint
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../eslint-config-cozy-app/" title="ESLint" class="md-nav__link">
      ESLint
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ach/" title="ACH" class="md-nav__link">
      ACH
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-5" type="checkbox" id="nav-4-5">
    
    <label class="md-nav__link" for="nav-4-5">
      Advanced
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-5">
        Advanced
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-5-1" type="checkbox" id="nav-4-5-1">
    
    <label class="md-nav__link" for="nav-4-5-1">
      Stack server
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-4-5-1">
        Stack server
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-5-1-2" type="checkbox" id="nav-4-5-1-2">
    
    <label class="md-nav__link" for="nav-4-5-1-2">
      Usage
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-4-5-1-2">
        Usage
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/INSTALL/" title="Install the cozy-stack" class="md-nav__link">
      Install the cozy-stack
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/config/" title="Configuration file" class="md-nav__link">
      Configuration file
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/instance/" title="Managing Instances" class="md-nav__link">
      Managing Instances
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/security/" title="Security" class="md-nav__link">
      Security
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/cli/cozy-stack/" title="Manpages of the command-line tool" class="md-nav__link">
      Manpages of the command-line tool
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-5-1-3" type="checkbox" id="nav-4-5-1-3">
    
    <label class="md-nav__link" for="nav-4-5-1-3">
      How-to guides for developpers
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-4-5-1-3">
        How-to guides for developpers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/client-app-dev/" title="Develop a client-side app" class="md-nav__link">
      Develop a client-side app
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/docker/" title="Running and building Docker images" class="md-nav__link">
      Running and building Docker images
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/doctype/" title="Adding a new doctype" class="md-nav__link">
      Adding a new doctype
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/assets/" title="Working with the stack assets" class="md-nav__link">
      Working with the stack assets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/release/" title="Build a release" class="md-nav__link">
      Build a release
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/CONTRIBUTING/" title="The contributing guide" class="md-nav__link">
      The contributing guide
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-5-1-4" type="checkbox" id="nav-4-5-1-4">
    
    <label class="md-nav__link" for="nav-4-5-1-4">
      Explanations
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-4-5-1-4">
        Explanations
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/sharing-design/" title="Sharing design" class="md-nav__link">
      Sharing design
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/konnectors-workflow/" title="Workflow of the konnectors" class="md-nav__link">
      Workflow of the konnectors
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-5-1-5" type="checkbox" id="nav-4-5-1-5">
    
    <label class="md-nav__link" for="nav-4-5-1-5">
      List of services
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-4-5-1-5">
        List of services
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/auth/" title="/auth - Authentication & OAuth" class="md-nav__link">
      /auth - Authentication & OAuth
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/delegated-auth/" title="/oidc - Delegated authentication" class="md-nav__link">
       /oidc - Delegated authentication
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/apps/" title="/apps - Applications Management" class="md-nav__link">
      /apps - Applications Management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/registry/" title="/apps - Apps registry" class="md-nav__link">
       /apps - Apps registry
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/konnectors/" title="/apps - Konnectors" class="md-nav__link">
       /apps - Konnectors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/bitwarden/" title="/bitwarden - Bitwarden" class="md-nav__link">
      /bitwarden - Bitwarden
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/contacts/" title="/contacts - Contacts" class="md-nav__link">
      /contacts - Contacts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/data-system/" title="/data - Data System" class="md-nav__link">
      /data - Data System
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/mango/" title="/data - Mango" class="md-nav__link">
       /data - Mango
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/couchdb-quirks/" title="/data - CouchDB Quirks" class="md-nav__link">
       /data - CouchDB Quirks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/pouchdb-quirks/" title="/data - PouchDB Quirks" class="md-nav__link">
       /data - PouchDB Quirks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/files/" title="/files - Virtual File System" class="md-nav__link">
      /files - Virtual File System
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/references-docs-in-vfs/" title="/files - References of documents in VFS" class="md-nav__link">
       /files - References of documents in VFS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/intents/" title="/intents - Intents" class="md-nav__link">
      /intents - Intents
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/jobs/" title="/jobs - Jobs" class="md-nav__link">
      /jobs - Jobs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/workers/" title="/jobs - Workers" class="md-nav__link">
       /jobs - Workers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/move/" title="/move - Move, export and import an instance" class="md-nav__link">
      /move - Move, export and import an instance
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/notes/" title="/notes - Notes for collaborative edition" class="md-nav__link">
      /notes - Notes for collaborative edition
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/notifications/" title="/notifications - Notifications" class="md-nav__link">
      /notifications - Notifications
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/public/" title="/public - Public" class="md-nav__link">
      /public - Public
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/permissions/" title="/permissions - Permissions" class="md-nav__link">
      /permissions - Permissions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/realtime/" title="/realtime - Realtime" class="md-nav__link">
      /realtime - Realtime
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/remote/" title="/remote - Proxy for remote data/API" class="md-nav__link">
      /remote - Proxy for remote data/API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/settings/" title="/settings - Settings" class="md-nav__link">
      /settings - Settings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/user-action-required/" title="/settings - Terms of Services" class="md-nav__link">
       /settings - Terms of Services
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/sharing/" title="/sharings - Sharing" class="md-nav__link">
      /sharings - Sharing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-stack/shortcuts/" title="/shortcuts - Shortcuts" class="md-nav__link">
      /shortcuts - Shortcuts
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-apps-registry/" title="Registry server" class="md-nav__link">
      Registry server
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Applications
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Applications
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-1" type="checkbox" id="nav-5-1">
    
    <label class="md-nav__link" for="nav-5-1">
      Cozy Banks
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-1">
        Cozy Banks
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-banks/" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-banks/docs/dev/" title="Develop" class="md-nav__link">
      Develop
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-banks/docs/account-types/" title="Bank account types" class="md-nav__link">
      Bank account types
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-banks/docs/bills-matching/" title="Matching algorithm" class="md-nav__link">
      Matching algorithm
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-banks/docs/brand-dictionary/" title="Brands dictionary" class="md-nav__link">
      Brands dictionary
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-banks/docs/demo/" title="Demo tricks" class="md-nav__link">
      Demo tricks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-banks/docs/notifications/" title="Notifications" class="md-nav__link">
      Notifications
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-banks/docs/override-cordova-config/" title="Override Cordova project config.xml" class="md-nav__link">
      Override Cordova project config.xml
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-banks/docs/services/" title="Services" class="md-nav__link">
      Services
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cozy-banks/docs/tracking/" title="Tracking" class="md-nav__link">
      Tracking
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#classes" title="Classes" class="md-nav__link">
    Classes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#constants" title="Constants" class="md-nav__link">
    Constants
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions" title="Functions" class="md-nav__link">
    Functions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#typedefs" title="Typedefs" class="md-nav__link">
    Typedefs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#association" title="Association" class="md-nav__link">
    Association
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new-associationtarget-name-doctype-options" title="new Association(target, name, doctype, options)" class="md-nav__link">
    new Association(target, name, doctype, options)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#associationtarget-object" title="association.target : object" class="md-nav__link">
    association.target : object
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#associationname-string" title="association.name : string" class="md-nav__link">
    association.name : string
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#associationdoctype-string" title="association.doctype : string" class="md-nav__link">
    association.doctype : string
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#associationget-function" title="association.get : function" class="md-nav__link">
    association.get : function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#associationsave-function" title="association.save : function" class="md-nav__link">
    association.save : function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#associationdispatch-function" title="association.dispatch : function" class="md-nav__link">
    association.dispatch : function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#associationraw" title="association.raw" class="md-nav__link">
    association.raw
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#associationdata" title="association.data" class="md-nav__link">
    association.data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#associationqueryquerydefinition" title="association.query(queryDefinition)" class="md-nav__link">
    association.query(queryDefinition)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#associationmutate" title="association.mutate()" class="md-nav__link">
    association.mutate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#associationquery-querydefinition" title="Association.query() ⇒ QueryDefinition" class="md-nav__link">
    Association.query() ⇒ QueryDefinition
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hasmany" title="HasMany" class="md-nav__link">
    HasMany
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new-hasmany" title="new HasMany()" class="md-nav__link">
    new HasMany()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hasmanycount-number" title="hasMany.count ⇒ number" class="md-nav__link">
    hasMany.count ⇒ number
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hasmanyaddbyid" title="hasMany.addById()" class="md-nav__link">
    hasMany.addById()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hasmanyinplace" title="HasManyInPlace" class="md-nav__link">
    HasManyInPlace
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new-hasmanyinplace" title="new HasManyInPlace()" class="md-nav__link">
    new HasManyInPlace()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hasmanytriggers-hasmany" title="HasManyTriggers ⇐ HasMany" class="md-nav__link">
    HasManyTriggers ⇐ HasMany
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hasmanytriggerscount-number" title="hasManyTriggers.count ⇒ number" class="md-nav__link">
    hasManyTriggers.count ⇒ number
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hasmanytriggersaddbyid" title="hasManyTriggers.addById()" class="md-nav__link">
    hasManyTriggers.addById()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hasmanytriggersquery" title="HasManyTriggers.query()" class="md-nav__link">
    HasManyTriggers.query()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cozyclient" title="CozyClient" class="md-nav__link">
    CozyClient
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new-cozyclientoptions" title="new CozyClient(options)" class="md-nav__link">
    new CozyClient(options)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientregisterplugin" title="cozyClient.registerPlugin()" class="md-nav__link">
    cozyClient.registerPlugin()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientloginoptions-promise" title="cozyClient.login(options) ⇒ Promise" class="md-nav__link">
    cozyClient.login(options) ⇒ Promise
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientlogout-promise" title="cozyClient.logout() ⇒ Promise" class="md-nav__link">
    cozyClient.logout() ⇒ Promise
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientcollectiondoctype-documentcollection" title="cozyClient.collection(doctype) ⇒ DocumentCollection" class="md-nav__link">
    cozyClient.collection(doctype) ⇒ DocumentCollection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientcreatetype-doc-references-options-promise" title="cozyClient.create(type, doc, references, options) ⇒ Promise" class="md-nav__link">
    cozyClient.create(type, doc, references, options) ⇒ Promise
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientgetdocumentsaveplandocument-referencesbyname-arraymutation" title="cozyClient.getDocumentSavePlan(document, [referencesByName]) ⇒ Array.&lt;Mutation&gt;" class="md-nav__link">
    cozyClient.getDocumentSavePlan(document, [referencesByName]) ⇒ Array.&lt;Mutation&gt;
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientdestroydocument-document" title="cozyClient.destroy(document) ⇒ Document" class="md-nav__link">
    cozyClient.destroy(document) ⇒ Document
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientqueryquerydefinition-options-queryresult" title="cozyClient.query(queryDefinition, options) ⇒ QueryResult" class="md-nav__link">
    cozyClient.query(queryDefinition, options) ⇒ QueryResult
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientqueryallquerydefinition-options-array" title="cozyClient.queryAll(queryDefinition, options) ⇒ Array" class="md-nav__link">
    cozyClient.queryAll(queryDefinition, options) ⇒ Array
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclienthydratedocumentsdoctype-documents-arrayhydrateddocument" title="cozyClient.hydrateDocuments(doctype, documents) ⇒ Array.&lt;HydratedDocument&gt;" class="md-nav__link">
    cozyClient.hydrateDocuments(doctype, documents) ⇒ Array.&lt;HydratedDocument&gt;
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclienthydratedocumentdocument-schemaarg-hydrateddocument" title="cozyClient.hydrateDocument(document, schemaArg) ⇒ HydratedDocument" class="md-nav__link">
    cozyClient.hydrateDocument(document, schemaArg) ⇒ HydratedDocument
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientmakenewdocument" title="cozyClient.makeNewDocument()" class="md-nav__link">
    cozyClient.makeNewDocument()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientgetassociation" title="cozyClient.getAssociation()" class="md-nav__link">
    cozyClient.getAssociation()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientgetrelationshipstoreaccessors" title="cozyClient.getRelationshipStoreAccessors()" class="md-nav__link">
    cozyClient.getRelationshipStoreAccessors()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientgetcollectionfromstatetype-arraydocument" title="cozyClient.getCollectionFromState(type) ⇒ Array.&lt;Document&gt;" class="md-nav__link">
    cozyClient.getCollectionFromState(type) ⇒ Array.&lt;Document&gt;
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientgetdocumentfromstatetype-id-document" title="cozyClient.getDocumentFromState(type, id) ⇒ Document" class="md-nav__link">
    cozyClient.getDocumentFromState(type, id) ⇒ Document
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientgetqueryfromstateid-options-querystate" title="cozyClient.getQueryFromState(id, options) ⇒ QueryState" class="md-nav__link">
    cozyClient.getQueryFromState(id, options) ⇒ QueryState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientregistercozyurl-object" title="cozyClient.register(cozyURL) ⇒ object" class="md-nav__link">
    cozyClient.register(cozyURL) ⇒ object
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientstartoauthflowopenurlcallback-object" title="cozyClient.startOAuthFlow(openURLCallback) ⇒ object" class="md-nav__link">
    cozyClient.startOAuthFlow(openURLCallback) ⇒ object
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientrenewauthorization-object" title="cozyClient.renewAuthorization() ⇒ object" class="md-nav__link">
    cozyClient.renewAuthorization() ⇒ object
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientsetstorestore-options" title="cozyClient.setStore(store, options)" class="md-nav__link">
    cozyClient.setStore(store, options)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientcheckforrevocation" title="cozyClient.checkForRevocation()" class="md-nav__link">
    cozyClient.checkForRevocation()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclienthandlerevocationchange" title="cozyClient.handleRevocationChange()" class="md-nav__link">
    cozyClient.handleRevocationChange()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclienthandletokenrefresh" title="cozyClient.handleTokenRefresh()" class="md-nav__link">
    cozyClient.handleTokenRefresh()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientcreateclient" title="cozyClient.createClient()" class="md-nav__link">
    cozyClient.createClient()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientgetinstanceoptions-object" title="cozyClient.getInstanceOptions() ⇒ object" class="md-nav__link">
    cozyClient.getInstanceOptions() ⇒ object
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientloadinstanceoptionsfromdomselector-void" title="cozyClient.loadInstanceOptionsFromDOM([selector]) ⇒ void" class="md-nav__link">
    cozyClient.loadInstanceOptionsFromDOM([selector]) ⇒ void
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientsetdatadata" title="cozyClient.setData(data)" class="md-nav__link">
    cozyClient.setData(data)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientfromoldclient" title="CozyClient.fromOldClient()" class="md-nav__link">
    CozyClient.fromOldClient()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientfromoldoauthclient-cozyclient" title="CozyClient.fromOldOAuthClient() ⇒ CozyClient" class="md-nav__link">
    CozyClient.fromOldOAuthClient() ⇒ CozyClient
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientfromenv" title="CozyClient.fromEnv()" class="md-nav__link">
    CozyClient.fromEnv()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientfromdomselector-options-object" title="CozyClient.fromDOM(selector, options) ⇒ object" class="md-nav__link">
    CozyClient.fromDOM(selector, options) ⇒ object
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cozyclientregisterhookdoctype-name-fn" title="CozyClient.registerHook(doctype, name, fn)" class="md-nav__link">
    CozyClient.registerHook(doctype, name, fn)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#querydefinition" title="QueryDefinition" class="md-nav__link">
    QueryDefinition
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new-querydefinitionoptions" title="new QueryDefinition(options)" class="md-nav__link">
    new QueryDefinition(options)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querydefinitionchecksortordersortselectorindexedfields" title="queryDefinition.checkSortOrder(sort|selector|indexedFields)" class="md-nav__link">
    queryDefinition.checkSortOrder(sort|selector|indexedFields)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querydefinitiongetbyidid-querydefinition" title="queryDefinition.getById(id) ⇒ QueryDefinition" class="md-nav__link">
    queryDefinition.getById(id) ⇒ QueryDefinition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querydefinitiongetbyidsids-querydefinition" title="queryDefinition.getByIds(ids) ⇒ QueryDefinition" class="md-nav__link">
    queryDefinition.getByIds(ids) ⇒ QueryDefinition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querydefinitionwhereselector-querydefinition" title="queryDefinition.where(selector) ⇒ QueryDefinition" class="md-nav__link">
    queryDefinition.where(selector) ⇒ QueryDefinition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querydefinitionselectfields-querydefinition" title="queryDefinition.select(fields) ⇒ QueryDefinition" class="md-nav__link">
    queryDefinition.select(fields) ⇒ QueryDefinition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querydefinitionindexfieldsindexedfields-querydefinition" title="queryDefinition.indexFields(indexedFields) ⇒ QueryDefinition" class="md-nav__link">
    queryDefinition.indexFields(indexedFields) ⇒ QueryDefinition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querydefinitionsortbysort-querydefinition" title="queryDefinition.sortBy(sort) ⇒ QueryDefinition" class="md-nav__link">
    queryDefinition.sortBy(sort) ⇒ QueryDefinition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querydefinitionincludeincludes-querydefinition" title="queryDefinition.include(includes) ⇒ QueryDefinition" class="md-nav__link">
    queryDefinition.include(includes) ⇒ QueryDefinition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querydefinitionlimitbylimit-querydefinition" title="queryDefinition.limitBy(limit) ⇒ QueryDefinition" class="md-nav__link">
    queryDefinition.limitBy(limit) ⇒ QueryDefinition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querydefinitionoffsetskip-querydefinition" title="queryDefinition.offset(skip) ⇒ QueryDefinition" class="md-nav__link">
    queryDefinition.offset(skip) ⇒ QueryDefinition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querydefinitionoffsetcursorcursor-querydefinition" title="queryDefinition.offsetCursor(cursor) ⇒ QueryDefinition" class="md-nav__link">
    queryDefinition.offsetCursor(cursor) ⇒ QueryDefinition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querydefinitionoffsetbookmarkbookmark-querydefinition" title="queryDefinition.offsetBookmark(bookmark) ⇒ QueryDefinition" class="md-nav__link">
    queryDefinition.offsetBookmark(bookmark) ⇒ QueryDefinition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querydefinitionreferencedbydocument-querydefinition" title="queryDefinition.referencedBy(document) ⇒ QueryDefinition" class="md-nav__link">
    queryDefinition.referencedBy(document) ⇒ QueryDefinition
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#schema" title="Schema" class="md-nav__link">
    Schema
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#schemagetdoctypeschema" title="schema.getDoctypeSchema()" class="md-nav__link">
    schema.getDoctypeSchema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schemagetrelationship" title="schema.getRelationship()" class="md-nav__link">
    schema.getRelationship()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schemavalidate" title="schema.validate()" class="md-nav__link">
    schema.validate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gethasmanyitem" title="getHasManyItem" class="md-nav__link">
    getHasManyItem
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sethasmanyitem" title="setHasManyItem" class="md-nav__link">
    setHasManyItem
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#updatehasmanyitem" title="updateHasManyItem" class="md-nav__link">
    updateHasManyItem
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generateweblink-string" title="generateWebLink ⇒ string" class="md-nav__link">
    generateWebLink ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getmutederrors-array" title="getMutedErrors ⇒ Array" class="md-nav__link">
    getMutedErrors ⇒ Array
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#muteerror-cozyaccount" title="muteError ⇒ CozyAccount" class="md-nav__link">
    muteError ⇒ CozyAccount
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getcontractsyncstatusfromaccount" title="getContractSyncStatusFromAccount" class="md-nav__link">
    getContractSyncStatusFromAccount
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setcontractsyncstatusinaccount" title="setContractSyncStatusInAccount" class="md-nav__link">
    setContractSyncStatusInAccount
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getstoreurl-string" title="getStoreURL ⇒ string" class="md-nav__link">
    getStoreURL ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getstoreinstallationurl-string" title="getStoreInstallationURL ⇒ string" class="md-nav__link">
    getStoreInstallationURL ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#isinstalled-object" title="isInstalled ⇒ object" class="md-nav__link">
    isInstalled ⇒ object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#geturl-string" title="getUrl ⇒ string" class="md-nav__link">
    getUrl ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getappdisplayname-string" title="getAppDisplayName ⇒ string" class="md-nav__link">
    getAppDisplayName ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getinitials-string" title="getInitials ⇒ string" class="md-nav__link">
    getInitials ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getprimaryemail-string" title="getPrimaryEmail ⇒ string" class="md-nav__link">
    getPrimaryEmail ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getprimarycozy-string" title="getPrimaryCozy ⇒ string" class="md-nav__link">
    getPrimaryCozy ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getprimarycozydomain-string" title="getPrimaryCozyDomain ⇒ string" class="md-nav__link">
    getPrimaryCozyDomain ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getprimaryphone-string" title="getPrimaryPhone ⇒ string" class="md-nav__link">
    getPrimaryPhone ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getprimaryaddress-string" title="getPrimaryAddress ⇒ string" class="md-nav__link">
    getPrimaryAddress ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#makefullname-string" title="makeFullname ⇒ string" class="md-nav__link">
    makeFullname ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getfullname-string" title="getFullname ⇒ string" class="md-nav__link">
    getFullname ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#makedisplayname-string" title="makeDisplayName ⇒ string" class="md-nav__link">
    makeDisplayName ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getdisplayname-string" title="getDisplayName ⇒ string" class="md-nav__link">
    getDisplayName ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#makedefaultsortindexvalue-string" title="makeDefaultSortIndexValue ⇒ string" class="md-nav__link">
    makeDefaultSortIndexValue ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getdefaultsortindexvalue-string" title="getDefaultSortIndexValue ⇒ string" class="md-nav__link">
    getDefaultSortIndexValue ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getindexbyfamilynamegivennameemailcozyurl-string" title="~~getIndexByFamilyNameGivenNameEmailCozyUrl ⇒ string~~" class="md-nav__link">
    ~~getIndexByFamilyNameGivenNameEmailCozyUrl ⇒ string~~
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#splitfilename-object" title="splitFilename ⇒ object" class="md-nav__link">
    splitFilename ⇒ object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#isfile" title="isFile" class="md-nav__link">
    isFile
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#isdirectory" title="isDirectory" class="md-nav__link">
    isDirectory
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#isnote" title="isNote" class="md-nav__link">
    isNote
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#isshortcut-boolean" title="isShortcut ⇒ boolean" class="md-nav__link">
    isShortcut ⇒ boolean
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getsharingshortcutstatus-string" title="getSharingShortcutStatus ⇒ string" class="md-nav__link">
    getSharingShortcutStatus ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getsharingshortcuttargetmime-string" title="getSharingShortcutTargetMime ⇒ string" class="md-nav__link">
    getSharingShortcutTargetMime ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getsharingshortcuttargetdoctype-string" title="getSharingShortcutTargetDoctype ⇒ string" class="md-nav__link">
    getSharingShortcutTargetDoctype ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#issharingshorcut-boolean" title="isSharingShorcut ⇒ boolean" class="md-nav__link">
    isSharingShorcut ⇒ boolean
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#issharingshorcutnew-boolean" title="isSharingShorcutNew ⇒ boolean" class="md-nav__link">
    isSharingShorcutNew ⇒ boolean
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ensuremagicfolder-object" title="ensureMagicFolder ⇒ object" class="md-nav__link">
    ensureMagicFolder ⇒ object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#createfolderwithreference-object" title="createFolderWithReference ⇒ object" class="md-nav__link">
    createFolderWithReference ⇒ object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getreferencedfolder-array" title="getReferencedFolder ⇒ Array" class="md-nav__link">
    getReferencedFolder ⇒ Array
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shoulddisplayoffers" title="shouldDisplayOffers" class="md-nav__link">
    shouldDisplayOffers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hasanoffer" title="hasAnOffer" class="md-nav__link">
    hasAnOffer
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#buildpremiumlink" title="buildPremiumLink" class="md-nav__link">
    buildPremiumLink
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generateprivateurl" title="generatePrivateUrl" class="md-nav__link">
    generatePrivateUrl
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fetchurl-string" title="fetchURL ⇒ string" class="md-nav__link">
    fetchURL ⇒ string
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#triggerstates" title="triggerStates" class="md-nav__link">
    triggerStates
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#triggerstatesgetlastexecution" title="triggerStates.getLastExecution()" class="md-nav__link">
    triggerStates.getLastExecution()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triggerstatesgetlastsuccess" title="triggerStates.getLastsuccess()" class="md-nav__link">
    triggerStates.getLastsuccess()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triggerstatesiserrored" title="triggerStates.isErrored()" class="md-nav__link">
    triggerStates.isErrored()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triggerstatesgetlasterrortype" title="triggerStates.getLastErrorType()" class="md-nav__link">
    triggerStates.getLastErrorType()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fetchpolicies" title="fetchPolicies" class="md-nav__link">
    fetchPolicies
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fetchpoliciesolderthandelay-function" title="fetchPolicies.olderThan(delay) ⇒ function" class="md-nav__link">
    fetchPolicies.olderThan(delay) ⇒ function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fetchpoliciesnofetch" title="fetchPolicies.noFetch()" class="md-nav__link">
    fetchPolicies.noFetch()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#q" title="Q" class="md-nav__link">
    Q
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#isqueryloading" title="isQueryLoading" class="md-nav__link">
    isQueryLoading
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hasquerybeenloaded" title="hasQueryBeenLoaded" class="md-nav__link">
    hasQueryBeenLoaded
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#createclientinteractiveclientoptions" title="createClientInteractive(clientOptions)" class="md-nav__link">
    createClientInteractive(clientOptions)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#withclientcomponent-function" title="withClient(Component) ⇒ function" class="md-nav__link">
    withClient(Component) ⇒ function
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#queryconnectqueryspecs-function" title="queryConnect(querySpecs) ⇒ function" class="md-nav__link">
    queryConnect(querySpecs) ⇒ function
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#queryconnectflatqueryspecs-function" title="queryConnectFlat(querySpecs) ⇒ function" class="md-nav__link">
    queryConnectFlat(querySpecs) ⇒ function
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#geterrorcomponenterror-function-null" title="getErrorComponent(error) ⇒ function | null" class="md-nav__link">
    getErrorComponent(error) ⇒ function | null
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usefetchjson" title="useFetchJSON()" class="md-nav__link">
    useFetchJSON()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usequeryquerydefinition-options-object" title="useQuery(queryDefinition, options) ⇒ object" class="md-nav__link">
    useQuery(queryDefinition, options) ⇒ object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sanitizecategories" title="sanitizeCategories()" class="md-nav__link">
    sanitizeCategories()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sanitizemanifest-manifest" title="sanitize(manifest) ⇒ Manifest" class="md-nav__link">
    sanitize(manifest) ⇒ Manifest
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#createmockclientoptions-cozyclient" title="createMockClient(options) ⇒ CozyClient" class="md-nav__link">
    createMockClient(options) ⇒ CozyClient
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#normalizefile-object" title="normalize(file) ⇒ object" class="md-nav__link">
    normalize(file) ⇒ object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ensurefilepathfile-parent-object" title="ensureFilePath(file, parent) ⇒ object" class="md-nav__link">
    ensureFilePath(file, parent) ⇒ object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getparentfolderidfile-string-null" title="getParentFolderId(file) ⇒ string | null" class="md-nav__link">
    getParentFolderId(file) ⇒ string | null
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fetchownclient-arraypermissionitem" title="fetchOwn(client) ⇒ Array.&lt;PermissionItem&gt;" class="md-nav__link">
    fetchOwn(client) ⇒ Array.&lt;PermissionItem&gt;
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#isfortypepermission-type" title="isForType(permission, type)" class="md-nav__link">
    isForType(permission, type)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fetchmore" title="fetchMore()" class="md-nav__link">
    fetchMore()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getqueryattributes" title="getQueryAttributes()" class="md-nav__link">
    getQueryAttributes()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cancelablepromise-augmentedpromise" title="cancelable(promise) ⇒ AugmentedPromise" class="md-nav__link">
    cancelable(promise) ⇒ AugmentedPromise
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#withmutationsmutations-function" title="~~withMutations(...mutations) ⇒ function~~" class="md-nav__link">
    ~~withMutations(...mutations) ⇒ function~~
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#querystate-object" title="QueryState : object" class="md-nav__link">
    QueryState : object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference-object" title="Reference : object" class="md-nav__link">
    Reference : object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cozyaccount-object" title="CozyAccount : object" class="md-nav__link">
    CozyAccount : object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#document-object" title="Document : object" class="md-nav__link">
    Document : object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#permissionverb-all-get-patch-post-put-delete" title="PermissionVerb : &#x27;ALL&#x27; | &#x27;GET&#x27; | &#x27;PATCH&#x27; | &#x27;POST&#x27; | &#x27;PUT&#x27; | &#x27;DELETE&#x27;" class="md-nav__link">
    PermissionVerb : &#x27;ALL&#x27; | &#x27;GET&#x27; | &#x27;PATCH&#x27; | &#x27;POST&#x27; | &#x27;PUT&#x27; | &#x27;DELETE&#x27;
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#permissionitem-object" title="PermissionItem : object" class="md-nav__link">
    PermissionItem : object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydratedquerystate-hydratedquerystate" title="HydratedQueryState ⇒ HydratedQueryState" class="md-nav__link">
    HydratedQueryState ⇒ HydratedQueryState
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#registryapp-object" title="RegistryApp : object" class="md-nav__link">
    RegistryApp : object
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/cozy/cozy.github.io/edit/dev/src/cozy-client/api/cozy-client.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>Cozy Client API</h1>
                
                <h2 id="classes">Classes<a class="headerlink" href="#classes" title="Permanent link">&para;</a></h2>
<dl>
<dt><a href="#Association">Association</a></dt>
<dd><p>Associations are used by components to access related store documents that are
linked in a document. They are also responsible for building the <code>QueryDefinition</code> that is
used by the client to automatically fetch relationship data.</p>
<p>Hydrated documents used by components come with Association instances.</p>
</dd>
<dt><a href="#HasMany">HasMany</a></dt>
<dd><p>Related documents are stored in the relationships attribute of the object,
following the JSON API spec.</p>
<p>Responsible for</p>
<ul>
<li>Creating relationships</li>
<li>Removing relationships</li>
</ul>
</dd>
<dt><a href="#HasManyInPlace">HasManyInPlace</a></dt>
<dd><p>Used when related documents are stored directly under the attribute with
only the ids.</p>
</dd>
<dt><a href="#HasManyTriggers">HasManyTriggers</a> ⇐ <code><a href="#HasMany">HasMany</a></code></dt>
<dd><p>Association used for konnectors to retrieve all their related triggers.</p>
</dd>
<dt><a href="#CozyClient">CozyClient</a></dt>
<dd><p>Responsible for</p>
<ul>
<li>Creating observable queries</li>
<li>Hydration</li>
<li>Creating plan for saving documents</li>
<li>Associations</li>
</ul>
</dd>
<dt><a href="#QueryDefinition">QueryDefinition</a></dt>
<dd><p>Chainable API to create query definitions to retrieve documents
from a Cozy. <code>QueryDefinition</code>s are sent to links.</p>
</dd>
<dt><a href="#Schema">Schema</a></dt>
<dd><p>Stores information on a particular doctype.</p>
<ul>
<li>Attribute validation</li>
<li>Relationship access</li>
</ul>
<pre><code class="language-javascript">const schema = new Schema({
  todos: {
    attributes: {
      label: {
        unique: true
      }
    },
    relationships: {
      author: &#39;has-one-in-place&#39;
    }
  }
}, cozyStackClient)
</code></pre>
</dd>
</dl>

<h2 id="constants">Constants<a class="headerlink" href="#constants" title="Permanent link">&para;</a></h2>
<dl>
<dt><a href="#getHasManyItem">getHasManyItem</a></dt>
<dd><p>Gets a relationship item with the relationship name and id</p>
</dd>
<dt><a href="#setHasManyItem">setHasManyItem</a></dt>
<dd><p>Sets a relationship item with the relationship name and id</p>
</dd>
<dt><a href="#updateHasManyItem">updateHasManyItem</a></dt>
<dd><p>Updates a relationship item with the relationship name and id</p>
</dd>
<dt><a href="#generateWebLink">generateWebLink</a> ⇒ <code>string</code></dt>
<dd><p>generateWebLink - Construct a link to a web app</p>
<p>This function does not get its cozy url from a CozyClient instance so it can
be used to build urls that point to other Cozies than the user&#39;s own Cozy.
This is useful when pointing to the Cozy of the owner of a shared note for
example.</p>
</dd>
<dt><a href="#getMutedErrors">getMutedErrors</a> ⇒ <code>Array</code></dt>
<dd><p>getMutedErrors - Returns the list of errors that have been muted for the given account</p>
</dd>
<dt><a href="#muteError">muteError</a> ⇒ <code><a href="#CozyAccount">CozyAccount</a></code></dt>
<dd><p>muteError - Adds an error to the list of muted errors for the given account</p>
</dd>
<dt><a href="#getContractSyncStatusFromAccount">getContractSyncStatusFromAccount</a></dt>
<dd><p>Returns whether a contract is synced from account relationship</p>
</dd>
<dt><a href="#setContractSyncStatusInAccount">setContractSyncStatusInAccount</a></dt>
<dd><p>Sets contract sync status into account relationship</p>
</dd>
<dt><a href="#getStoreURL">getStoreURL</a> ⇒ <code>string</code></dt>
<dd><p>Returns the store URL of an app/konnector</p>
</dd>
<dt><a href="#getStoreInstallationURL">getStoreInstallationURL</a> ⇒ <code>string</code></dt>
<dd><p>Returns the store URL to install/update an app/konnector</p>
</dd>
<dt><a href="#isInstalled">isInstalled</a> ⇒ <code>object</code></dt>
<dd></dd>
<dt><a href="#getUrl">getUrl</a> ⇒ <code>string</code></dt>
<dd></dd>
<dt><a href="#getAppDisplayName">getAppDisplayName</a> ⇒ <code>string</code></dt>
<dd><p>getAppDisplayName - Combines the translated prefix and name of the app into a single string.</p>
</dd>
<dt><a href="#getInitials">getInitials</a> ⇒ <code>string</code></dt>
<dd><p>Returns the initials of the contact.</p>
</dd>
<dt><a href="#getPrimaryEmail">getPrimaryEmail</a> ⇒ <code>string</code></dt>
<dd><p>Returns the contact&#39;s main email</p>
</dd>
<dt><a href="#getPrimaryCozy">getPrimaryCozy</a> ⇒ <code>string</code></dt>
<dd><p>Returns the contact&#39;s main cozy</p>
</dd>
<dt><a href="#getPrimaryCozyDomain">getPrimaryCozyDomain</a> ⇒ <code>string</code></dt>
<dd><p>Returns the contact&#39;s main cozy url without protocol</p>
</dd>
<dt><a href="#getPrimaryPhone">getPrimaryPhone</a> ⇒ <code>string</code></dt>
<dd><p>Returns the contact&#39;s main phone number</p>
</dd>
<dt><a href="#getPrimaryAddress">getPrimaryAddress</a> ⇒ <code>string</code></dt>
<dd><p>Returns the contact&#39;s main address</p>
</dd>
<dt><a href="#makeFullname">makeFullname</a> ⇒ <code>string</code></dt>
<dd><p>Makes fullname from contact name</p>
</dd>
<dt><a href="#getFullname">getFullname</a> ⇒ <code>string</code></dt>
<dd><p>Returns the contact&#39;s fullname</p>
</dd>
<dt><a href="#makeDisplayName">makeDisplayName</a> ⇒ <code>string</code></dt>
<dd><p>Makes displayName from contact data</p>
</dd>
<dt><a href="#getDisplayName">getDisplayName</a> ⇒ <code>string</code></dt>
<dd><p>Returns a display name for the contact</p>
</dd>
<dt><a href="#makeDefaultSortIndexValue">makeDefaultSortIndexValue</a> ⇒ <code>string</code></dt>
<dd><p>Makes &#39;byFamilyNameGivenNameEmailCozyUrl&#39; index of a contact</p>
</dd>
<dt><a href="#getDefaultSortIndexValue">getDefaultSortIndexValue</a> ⇒ <code>string</code></dt>
<dd><p>Returns &#39;byFamilyNameGivenNameEmailCozyUrl&#39; index of a contact</p>
</dd>
<dt><del><a href="#getIndexByFamilyNameGivenNameEmailCozyUrl">getIndexByFamilyNameGivenNameEmailCozyUrl</a> ⇒ <code>string</code></del></dt>
<dd><p>Returns &#39;byFamilyNameGivenNameEmailCozyUrl&#39; index of a contact</p>
</dd>
<dt><a href="#splitFilename">splitFilename</a> ⇒ <code>object</code></dt>
<dd><p>Returns base filename and extension</p>
</dd>
<dt><a href="#isFile">isFile</a></dt>
<dd></dd>
<dt><a href="#isDirectory">isDirectory</a></dt>
<dd></dd>
<dt><a href="#isNote">isNote</a></dt>
<dd></dd>
<dt><a href="#isShortcut">isShortcut</a> ⇒ <code>boolean</code></dt>
<dd></dd>
<dt><a href="#getSharingShortcutStatus">getSharingShortcutStatus</a> ⇒ <code>string</code></dt>
<dd><p>Returns the status of a sharing shortcut.</p>
</dd>
<dt><a href="#getSharingShortcutTargetMime">getSharingShortcutTargetMime</a> ⇒ <code>string</code></dt>
<dd><p>Returns the mime type of the target of the sharing shortcut, if it is a file.</p>
</dd>
<dt><a href="#getSharingShortcutTargetDoctype">getSharingShortcutTargetDoctype</a> ⇒ <code>string</code></dt>
<dd><p>Returns the doctype of the target of the sharing shortcut.</p>
</dd>
<dt><a href="#isSharingShorcut">isSharingShorcut</a> ⇒ <code>boolean</code></dt>
<dd><p>Returns whether the file is a shortcut to a sharing</p>
</dd>
<dt><a href="#isSharingShorcutNew">isSharingShorcutNew</a> ⇒ <code>boolean</code></dt>
<dd><p>Returns whether the sharing shortcut is new</p>
</dd>
<dt><a href="#ensureMagicFolder">ensureMagicFolder</a> ⇒ <code>object</code></dt>
<dd><p>Returns a &quot;Magic Folder&quot;, given its id. See <a href="https://docs.cozy.io/en/cozy-doctypes/docs/io.cozy.apps/#special-iocozyapps-doctypes">https://docs.cozy.io/en/cozy-doctypes/docs/io.cozy.apps/#special-iocozyapps-doctypes</a></p>
</dd>
<dt><a href="#createFolderWithReference">createFolderWithReference</a> ⇒ <code>object</code></dt>
<dd><p>Create a folder with a reference to the given document</p>
</dd>
<dt><a href="#getReferencedFolder">getReferencedFolder</a> ⇒ <code>Array</code></dt>
<dd><p>Returns an array of folder referenced by the given document</p>
</dd>
<dt><a href="#shouldDisplayOffers">shouldDisplayOffers</a></dt>
<dd><p>Returns whether an instance is concerned by our offers</p>
</dd>
<dt><a href="#hasAnOffer">hasAnOffer</a></dt>
<dd><p>Returns if an instance has subscribed to one of our offers</p>
</dd>
<dt><a href="#buildPremiumLink">buildPremiumLink</a></dt>
<dd><p>Returns the link to the Premium page on the Cozy&#39;s Manager</p>
</dd>
<dt><a href="#generatePrivateUrl">generatePrivateUrl</a></dt>
<dd></dd>
<dt><a href="#fetchURL">fetchURL</a> ⇒ <code>string</code></dt>
<dd><p>Fetch and build an URL to open a note.</p>
</dd>
<dt><a href="#triggerStates">triggerStates</a></dt>
<dd><p>Trigger states come from /jobs/triggers</p>
</dd>
<dt><a href="#fetchPolicies">fetchPolicies</a></dt>
<dd><p>Use those fetch policies with <code>&lt;Query /&gt;</code> to limit the number of re-fetch.</p>
</dd>
<dt><a href="#Q">Q</a></dt>
<dd><p>Helper to create a QueryDefinition. Recommended way to create
query definitions.</p>
</dd>
<dt><a href="#isQueryLoading">isQueryLoading</a></dt>
<dd><p>Returns whether the result of a query (given via queryConnect or Query)
is loading.</p>
</dd>
<dt><a href="#hasQueryBeenLoaded">hasQueryBeenLoaded</a></dt>
<dd><p>Returns whether a query has been loaded at least once</p>
</dd>
</dl>

<h2 id="functions">Functions<a class="headerlink" href="#functions" title="Permanent link">&para;</a></h2>
<dl>
<dt><a href="#createClientInteractive">createClientInteractive(clientOptions)</a></dt>
<dd><p>Creates a client with interactive authentication.</p>
<ul>
<li>Will start an OAuth flow and open an authentication page</li>
<li>Starts a local server to listen for the oauth callback</li>
<li>Resolves with the client after user authentication</li>
</ul>
</dd>
<dt><a href="#withClient">withClient(Component)</a> ⇒ <code>function</code></dt>
<dd><p>HOC to provide client from context as prop</p>
</dd>
<dt><a href="#queryConnect">queryConnect(querySpecs)</a> ⇒ <code>function</code></dt>
<dd><p>HOC creator to connect component to several queries in a declarative manner</p>
</dd>
<dt><a href="#queryConnectFlat">queryConnectFlat(querySpecs)</a> ⇒ <code>function</code></dt>
<dd><p>HOC creator to connect component to several queries in a declarative manner
The only difference with queryConnect is that it does not wrap the component in N component
if there are N queries, only 1 extra level of nesting is introduced.</p>
</dd>
<dt><a href="#getErrorComponent">getErrorComponent(error)</a> ⇒ <code>function</code> | <code>null</code></dt>
<dd><p>Returns the handler for an error</p>
</dd>
<dt><a href="#useFetchJSON">useFetchJSON()</a></dt>
<dd><p>Hook to use the generic fetchJSON method</p>
<p>Takes the same arguments as fetchJSON</p>
<p>Returns an object with the same keys { data, fetchStatus, error } as useQuery</p>
</dd>
<dt><a href="#useQuery">useQuery(queryDefinition, options)</a> ⇒ <code>object</code></dt>
<dd><p>Fetches a queryDefinition and returns the queryState</p>
</dd>
<dt><a href="#sanitizeCategories">sanitizeCategories()</a></dt>
<dd><p>Filters unauthorized categories. Defaults to [&#39;others&#39;] if no suitable category.</p>
</dd>
<dt><a href="#sanitize">sanitize(manifest)</a> ⇒ <code>Manifest</code></dt>
<dd><p>Normalize app manifest, retrocompatibility for old manifests</p>
</dd>
<dt><a href="#createMockClient">createMockClient(options)</a> ⇒ <code><a href="#CozyClient">CozyClient</a></code></dt>
<dd><p>Creates a client suitable for use in tests</p>
<ul>
<li>client.{query,save} are mocked</li>
<li>client.stackClient.fetchJSON is mocked</li>
</ul>
</dd>
<dt><a href="#normalize">normalize(file)</a> ⇒ <code>object</code></dt>
<dd><p>Normalizes an object representing a io.cozy.files object</p>
<p>Ensures existence of <code>_id</code> and <code>_type</code></p>
</dd>
<dt><a href="#ensureFilePath">ensureFilePath(file, parent)</a> ⇒ <code>object</code></dt>
<dd><p>Ensure the file has a <code>path</code> attribute, or build it</p>
</dd>
<dt><a href="#getParentFolderId">getParentFolderId(file)</a> ⇒ <code>string</code> | <code>null</code></dt>
<dd><p>Get the id of the parent folder (<code>null</code> for the root folder)</p>
</dd>
<dt><a href="#fetchOwn">fetchOwn(client)</a> ⇒ <code><a href="#PermissionItem">Array.&lt;PermissionItem&gt;</a></code></dt>
<dd><p>Fetches the list of permissions blocks</p>
</dd>
<dt><a href="#isForType">isForType(permission, type)</a></dt>
<dd><p>Checks if the permission item is about a specific doctype</p>
</dd>
<dt><a href="#fetchMore">fetchMore()</a></dt>
<dd><p>Generates and executes a query that is offsetted by the number of documents
we have in the store.</p>
</dd>
<dt><a href="#getQueryAttributes">getQueryAttributes()</a></dt>
<dd><p>Get attributes that will be assigned to the instance of a Query</p>
</dd>
<dt><a href="#cancelable">cancelable(promise)</a> ⇒ <code>AugmentedPromise</code></dt>
<dd><p>Wraps a promise so that it can be canceled</p>
<p>Rejects with canceled: true as soon as cancel is called</p>
</dd>
<dt><del><a href="#withMutations">withMutations(...mutations)</a> ⇒ <code>function</code></del></dt>
<dd><p>HOC to provide mutations to components. Needs client in context or as prop.</p>
</dd>
</dl>

<h2 id="typedefs">Typedefs<a class="headerlink" href="#typedefs" title="Permanent link">&para;</a></h2>
<dl>
<dt><a href="#QueryState">QueryState</a> : <code>object</code></dt>
<dd></dd>
<dt><a href="#Reference">Reference</a> : <code>object</code></dt>
<dd><p>A reference to a document (special case of a relationship used between photos and albums)
<a href="https://docs.cozy.io/en/cozy-doctypes/docs/io.cozy.files/#references">https://docs.cozy.io/en/cozy-doctypes/docs/io.cozy.files/#references</a></p>
</dd>
<dt><a href="#CozyAccount">CozyAccount</a> : <code>object</code></dt>
<dd></dd>
<dt><a href="#Document">Document</a> : <code>object</code></dt>
<dd><p>Couchdb document like an io.cozy.files</p>
</dd>
<dt><a href="#PermissionVerb">PermissionVerb</a> : <code>&#x27;ALL&#x27;</code> | <code>&#x27;GET&#x27;</code> | <code>&#x27;PATCH&#x27;</code> | <code>&#x27;POST&#x27;</code> | <code>&#x27;PUT&#x27;</code> | <code>&#x27;DELETE&#x27;</code></dt>
<dd></dd>
<dt><a href="#PermissionItem">PermissionItem</a> : <code>object</code></dt>
<dd></dd>
<dt><a href="#HydratedQueryState">HydratedQueryState</a> ⇒ <code><a href="#HydratedQueryState">HydratedQueryState</a></code></dt>
<dd><p>Returns the query from the store with hydrated documents.</p>
</dd>
<dt><a href="#RegistryApp">RegistryApp</a> : <code>object</code></dt>
<dd></dd>
</dl>

<p><a name="Association"></a></p>
<h2 id="association">Association<a class="headerlink" href="#association" title="Permanent link">&para;</a></h2>
<p>Associations are used by components to access related store documents that are
linked in a document. They are also responsible for building the <code>QueryDefinition</code> that is
used by the client to automatically fetch relationship data.</p>
<p>Hydrated documents used by components come with Association instances.</p>
<p><strong>Kind</strong>: global class  </p>
<ul>
<li><a href="#Association">Association</a>
    * <a href="#new_Association_new">new Association(target, name, doctype, options)</a>
    * <em>instance</em>
        * <a href="#Association+target">.target</a> : <code>object</code>
        * <a href="#Association+name">.name</a> : <code>string</code>
        * <a href="#Association+doctype">.doctype</a> : <code>string</code>
        * <a href="#Association+get">.get</a> : <code>function</code>
        * <a href="#Association+save">.save</a> : <code>function</code>
        * <a href="#Association+dispatch">.dispatch</a> : <code>function</code>
        * <a href="#Association+raw">.raw</a>
        * <a href="#Association+data">.data</a>
        * <a href="#Association+query">.query(queryDefinition)</a>
        * <a href="#Association+mutate">.mutate()</a>
    * <em>static</em>
        * <a href="#Association.query">.query()</a> ⇒ <a href="#QueryDefinition"><code>QueryDefinition</code></a></li>
</ul>
<p><a name="new_Association_new"></a></p>
<h3 id="new-associationtarget-name-doctype-options">new Association(target, name, doctype, options)<a class="headerlink" href="#new-associationtarget-name-doctype-options" title="Permanent link">&para;</a></h3>
<p>Example: The schema defines an <code>author</code> relationship :</p>
<div class="codehilite"><pre><span></span><span class="kr">const</span> <span class="nx">BOOK_SCHEMA</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">relationships</span><span class="o">:</span> <span class="p">{</span>
     <span class="nx">author</span><span class="o">:</span> <span class="s1">&#39;has-one&#39;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>Hydrated <code>books</code> will have the <code>author</code> association instance under the <code>author</code> key.
Accessing <code>hydratedBook.author.data</code> gives you the author from the store, for example :</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;St-Exupery&quot;</span><span class="p">,</span>
  <span class="nt">&quot;firstName&quot;</span><span class="p">:</span> <span class="s2">&quot;Antoine&quot;</span><span class="p">,</span>
  <span class="nt">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;antoine&quot;</span>
<span class="p">}</span>
</pre></div>


<p>It is the responsibility of the relationship to decide how the relationship data is stored.
For example, here since we use the default <code>has-one</code> relationship, the relationship data
is stored in the <code>relationships</code> attribute of the original document (in our case here, our book
would be</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Le petit prince&quot;</span><span class="p">,</span>
  <span class="nt">&quot;relationships&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;author&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;doctype&quot;</span><span class="p">:</span> <span class="s2">&quot;io.cozy.authors&quot;</span><span class="p">,</span>
        <span class="nt">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;antoine&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>In the case of an &ldquo;in-place&rdquo; relationship, the relationship data is stored directly under the attribute named
by the relationship (in our case <code>author</code>). Our book would be</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Le petit prince&quot;</span><span class="p">,</span>
    <span class="nt">&quot;author&quot;</span><span class="p">:</span> <span class="s2">&quot;antoine&quot;</span>
<span class="p">}</span>
</pre></div>


<hr />
<p>Each different type of Association may change:</p>
<ul>
<li><code>get raw</code>: how the relationship data is stored (either as per the JSON API spec or
 in a custom way)</li>
<li><code>get data</code>: how the store documents are then fetched from the store to be added to
the hydrated document (.data method). View components will access
<code>hydratedDoc[relationshipName].data</code>.</li>
<li><code>get query</code>: how to build the query to fetch related documents</li>
</ul>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>target</td>
<td><code>object</code></td>
<td>Original object containing raw data</td>
</tr>
<tr>
<td>name</td>
<td><code>string</code></td>
<td>Attribute under which the association is stored</td>
</tr>
<tr>
<td>doctype</td>
<td><code>string</code></td>
<td>Doctype of the documents managed by the association</td>
</tr>
<tr>
<td>options</td>
<td><code>string</code></td>
<td></td>
</tr>
<tr>
<td>options.dispatch</td>
<td><code>function</code></td>
<td>Store&rsquo;s dispatch, comes from the client</td>
</tr>
</tbody>
</table>
<p><a name="Association+target"></a></p>
<h3 id="associationtarget-object">association.target : <code>object</code><a class="headerlink" href="#associationtarget-object" title="Permanent link">&para;</a></h3>
<p>The original document declaring the relationship</p>
<p><strong>Kind</strong>: instance property of <a href="#Association"><code>Association</code></a><br />
<a name="Association+name"></a></p>
<h3 id="associationname-string">association.name : <code>string</code><a class="headerlink" href="#associationname-string" title="Permanent link">&para;</a></h3>
<p>The name of the relationship.</p>
<p><strong>Kind</strong>: instance property of <a href="#Association"><code>Association</code></a><br />
<strong>Example</strong>  </p>
<div class="codehilite"><pre><span></span><span class="s1">&#39;author&#39;</span>
</pre></div>


<p><a name="Association+doctype"></a></p>
<h3 id="associationdoctype-string">association.doctype : <code>string</code><a class="headerlink" href="#associationdoctype-string" title="Permanent link">&para;</a></h3>
<p>Doctype of the relationship</p>
<p><strong>Kind</strong>: instance property of <a href="#Association"><code>Association</code></a><br />
<strong>Example</strong>  </p>
<div class="codehilite"><pre><span></span><span class="s1">&#39;io.cozy.authors&#39;</span>
</pre></div>


<p><a name="Association+get"></a></p>
<h3 id="associationget-function">association.get : <code>function</code><a class="headerlink" href="#associationget-function" title="Permanent link">&para;</a></h3>
<p>Returns the document from the store</p>
<p><strong>Kind</strong>: instance property of <a href="#Association"><code>Association</code></a><br />
<a name="Association+save"></a></p>
<h3 id="associationsave-function">association.save : <code>function</code><a class="headerlink" href="#associationsave-function" title="Permanent link">&para;</a></h3>
<p>Saves the relationship in store.</p>
<p><strong>Kind</strong>: instance property of <a href="#Association"><code>Association</code></a><br />
<a name="Association+dispatch"></a></p>
<h3 id="associationdispatch-function">association.dispatch : <code>function</code><a class="headerlink" href="#associationdispatch-function" title="Permanent link">&para;</a></h3>
<p>Dispatch an action on the store.</p>
<p><strong>Kind</strong>: instance property of <a href="#Association"><code>Association</code></a><br />
<a name="Association+raw"></a></p>
<h3 id="associationraw">association.raw<a class="headerlink" href="#associationraw" title="Permanent link">&para;</a></h3>
<p>Returns the raw relationship data as stored in the original document</p>
<p>For a document with relationships stored as JSON API spec:</p>
<div class="codehilite"><pre><span></span><span class="kr">const</span> <span class="nx">book</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Moby Dick&#39;</span><span class="p">,</span>
  <span class="nx">relationships</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">author</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">doctype</span><span class="o">:</span> <span class="s1">&#39;io.cozy.authors&#39;</span><span class="p">,</span>
        <span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;herman&#39;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
 <span class="p">}</span>
</pre></div>


<p>Raw value will be</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;doctype&quot;</span><span class="p">:</span> <span class="s2">&quot;io.cozy.authors&quot;</span><span class="p">,</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;herman&quot;</span>
<span class="p">}</span>
</pre></div>


<p>Derived <code>Association</code>s need to implement this method.</p>
<p><strong>Kind</strong>: instance property of <a href="#Association"><code>Association</code></a><br />
<a name="Association+data"></a></p>
<h3 id="associationdata">association.data<a class="headerlink" href="#associationdata" title="Permanent link">&para;</a></h3>
<p>Returns the document(s) from the store</p>
<p>For document with relationships stored as JSON API spec :</p>
<div class="codehilite"><pre><span></span><span class="kr">const</span> <span class="nx">book</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Moby Dick&#39;</span><span class="p">,</span>
  <span class="nx">relationships</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">author</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">doctype</span><span class="o">:</span> <span class="s1">&#39;io.cozy.authors&#39;</span><span class="p">,</span>
        <span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;herman&#39;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
 <span class="p">}</span>
</pre></div>


<p><code>data</code> will be</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;herman&quot;</span>
  <span class="s2">&quot;_type&quot;</span><span class="p">:</span> <span class="s2">&quot;io.cozy.authors&quot;</span><span class="p">,</span>
  <span class="nt">&quot;firstName&quot;</span><span class="p">:</span> <span class="s2">&quot;herman&quot;</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Melville&quot;</span>
<span class="p">}</span>
</pre></div>


<p>Derived <code>Association</code>s need to implement this method.</p>
<p><strong>Kind</strong>: instance property of <a href="#Association"><code>Association</code></a><br />
<a name="Association+query"></a></p>
<h3 id="associationqueryquerydefinition">association.query(queryDefinition)<a class="headerlink" href="#associationqueryquerydefinition" title="Permanent link">&para;</a></h3>
<p>Performs a query to retrieve relationship documents.</p>
<p><strong>Kind</strong>: instance method of <a href="#Association"><code>Association</code></a>  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>queryDefinition</td>
<td><a href="#QueryDefinition"><code>QueryDefinition</code></a></td>
</tr>
</tbody>
</table>
<p><a name="Association+mutate"></a></p>
<h3 id="associationmutate">association.mutate()<a class="headerlink" href="#associationmutate" title="Permanent link">&para;</a></h3>
<p>Performs a mutation on the relationship.</p>
<p><strong>Kind</strong>: instance method of <a href="#Association"><code>Association</code></a><br />
<a name="Association.query"></a></p>
<h3 id="associationquery-querydefinition">Association.query() ⇒ <a href="#QueryDefinition"><code>QueryDefinition</code></a><a class="headerlink" href="#associationquery-querydefinition" title="Permanent link">&para;</a></h3>
<p>Derived <code>Association</code>s need to implement this method.</p>
<p><strong>Kind</strong>: static method of <a href="#Association"><code>Association</code></a><br />
<a name="HasMany"></a></p>
<h2 id="hasmany">HasMany<a class="headerlink" href="#hasmany" title="Permanent link">&para;</a></h2>
<p>Related documents are stored in the relationships attribute of the object,
following the JSON API spec.</p>
<p>Responsible for</p>
<ul>
<li>Creating relationships</li>
<li>Removing relationships</li>
</ul>
<p><strong>Kind</strong>: global class  </p>
<ul>
<li><a href="#HasMany">HasMany</a>
    * <a href="#new_HasMany_new">new HasMany()</a>
    * <a href="#HasMany+count">.count</a> ⇒ <code>number</code>
    * <a href="#HasMany+addById">.addById()</a></li>
</ul>
<p><a name="new_HasMany_new"></a></p>
<h3 id="new-hasmany">new HasMany()<a class="headerlink" href="#new-hasmany" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span>const schema = {
  todos: {
     doctype: &#39;io.cozy.todos&#39;,
     relationships: {
       tasks: {
         doctype: &#39;io.cozy.tasks&#39;,
         type: &#39;has-many&#39;
       }
     }
   }
}

const todo = {
  label: &quot;Protect people&#39;s privacy&quot;,
  relationships: {
    tasks: {
      data: [
        {_id: 1, _type: &#39;io.cozy.tasks&#39;},
        {_id: 2, _type: &#39;io.cozy.tasks&#39;}
      ]
    }
  }
}
</pre></div>


<p><a name="HasMany+count"></a></p>
<h3 id="hasmanycount-number">hasMany.count ⇒ <code>number</code><a class="headerlink" href="#hasmanycount-number" title="Permanent link">&para;</a></h3>
<p>Returns the total number of documents in the relationship.
Does not handle documents absent from the store. If you want
to do that, you can use .data.length.</p>
<p><strong>Kind</strong>: instance property of <a href="#HasMany"><code>HasMany</code></a><br />
<strong>Returns</strong>: <code>number</code> - - Total number of documents in the relationships<br />
<a name="HasMany+addById"></a></p>
<h3 id="hasmanyaddbyid">hasMany.addById()<a class="headerlink" href="#hasmanyaddbyid" title="Permanent link">&para;</a></h3>
<p>Add a referenced document by id. You need to call save()
in order to synchronize your document with the store.</p>
<p><strong>Kind</strong>: instance method of <a href="#HasMany"><code>HasMany</code></a><br />
<strong>Todo</strong></p>
<ul>
<li>[ ] We shouldn&rsquo;t create the array of relationship manually since
it&rsquo;ll not be present in the store as well.
We certainly should use something like <code>updateRelationship</code></li>
</ul>
<p><a name="HasManyInPlace"></a></p>
<h2 id="hasmanyinplace">HasManyInPlace<a class="headerlink" href="#hasmanyinplace" title="Permanent link">&para;</a></h2>
<p>Used when related documents are stored directly under the attribute with
only the ids.</p>
<p><strong>Kind</strong>: global class<br />
<a name="new_HasManyInPlace_new"></a></p>
<h3 id="new-hasmanyinplace">new HasManyInPlace()<a class="headerlink" href="#new-hasmanyinplace" title="Permanent link">&para;</a></h3>
<p>An example document representing a TODO. See as the related
tasks are represented via ids.</p>
<div class="codehilite"><pre><span></span><span class="kr">const</span> <span class="nx">todo</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Protect people&#39;s privacy&quot;</span><span class="p">,</span>
  <span class="nx">tasks</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>


<p>Here is the <code>Schema</code> that would represent this kind of document.
Components receiving todos via <code>Query</code>s would have an instance of <code>HasManyInPlace</code>
as their <code>tasks</code> attribute.</p>
<div class="codehilite"><pre><span></span><span class="kr">const</span> <span class="nx">schema</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">todos</span><span class="o">:</span> <span class="p">{</span>
     <span class="nx">doctype</span><span class="o">:</span> <span class="s1">&#39;io.cozy.todos&#39;</span><span class="p">,</span>
     <span class="nx">relationships</span><span class="o">:</span> <span class="p">{</span>
       <span class="nx">tasks</span><span class="o">:</span> <span class="p">{</span>
         <span class="nx">doctype</span><span class="o">:</span> <span class="s1">&#39;io.cozy.tasks&#39;</span><span class="p">,</span>
         <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;has-many-in-place&#39;</span>
       <span class="p">}</span>
     <span class="p">}</span>
   <span class="p">}</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">todo</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">label</span><span class="o">:</span> <span class="s2">&quot;Get rich&quot;</span><span class="p">,</span>
  <span class="nx">tasks</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>


<p><a name="HasManyTriggers"></a></p>
<h2 id="hasmanytriggers-hasmany">HasManyTriggers ⇐ <a href="#HasMany"><code>HasMany</code></a><a class="headerlink" href="#hasmanytriggers-hasmany" title="Permanent link">&para;</a></h2>
<p>Association used for konnectors to retrieve all their related triggers.</p>
<p><strong>Kind</strong>: global class<br />
<strong>Extends</strong>: <a href="#HasMany"><code>HasMany</code></a>  </p>
<ul>
<li><a href="#HasManyTriggers">HasManyTriggers</a> ⇐ <a href="#HasMany"><code>HasMany</code></a>
    * <em>instance</em>
        * <a href="#HasMany+count">.count</a> ⇒ <code>number</code>
        * <a href="#HasMany+addById">.addById()</a>
    * <em>static</em>
        * <a href="#HasManyTriggers.query">.query()</a></li>
</ul>
<p><a name="HasMany+count"></a></p>
<h3 id="hasmanytriggerscount-number">hasManyTriggers.count ⇒ <code>number</code><a class="headerlink" href="#hasmanytriggerscount-number" title="Permanent link">&para;</a></h3>
<p>Returns the total number of documents in the relationship.
Does not handle documents absent from the store. If you want
to do that, you can use .data.length.</p>
<p><strong>Kind</strong>: instance property of <a href="#HasManyTriggers"><code>HasManyTriggers</code></a><br />
<strong>Returns</strong>: <code>number</code> - - Total number of documents in the relationships<br />
<a name="HasMany+addById"></a></p>
<h3 id="hasmanytriggersaddbyid">hasManyTriggers.addById()<a class="headerlink" href="#hasmanytriggersaddbyid" title="Permanent link">&para;</a></h3>
<p>Add a referenced document by id. You need to call save()
in order to synchronize your document with the store.</p>
<p><strong>Kind</strong>: instance method of <a href="#HasManyTriggers"><code>HasManyTriggers</code></a><br />
<strong>Todo</strong></p>
<ul>
<li>[ ] We shouldn&rsquo;t create the array of relationship manually since
it&rsquo;ll not be present in the store as well.
We certainly should use something like <code>updateRelationship</code></li>
</ul>
<p><a name="HasManyTriggers.query"></a></p>
<h3 id="hasmanytriggersquery">HasManyTriggers.query()<a class="headerlink" href="#hasmanytriggersquery" title="Permanent link">&para;</a></h3>
<p>In this association the query is special, we need to fetch all the triggers
having for the &lsquo;konnector&rsquo; worker, and then filter them based on their
<code>message.konnector</code> attribute</p>
<p><strong>Kind</strong>: static method of <a href="#HasManyTriggers"><code>HasManyTriggers</code></a><br />
<a name="CozyClient"></a></p>
<h2 id="cozyclient">CozyClient<a class="headerlink" href="#cozyclient" title="Permanent link">&para;</a></h2>
<p>Responsible for</p>
<ul>
<li>Creating observable queries</li>
<li>Hydration</li>
<li>Creating plan for saving documents</li>
<li>Associations</li>
</ul>
<p><strong>Kind</strong>: global class  </p>
<ul>
<li><a href="#CozyClient">CozyClient</a>
    * <a href="#new_CozyClient_new">new CozyClient(options)</a>
    * <em>instance</em>
        * <a href="#CozyClient+registerPlugin">.registerPlugin()</a>
        * <a href="#CozyClient+login">.login(options)</a> ⇒ <code>Promise</code>
        * <a href="#CozyClient+logout">.logout()</a> ⇒ <code>Promise</code>
        * <a href="#CozyClient+collection">.collection(doctype)</a> ⇒ <code>DocumentCollection</code>
        * <a href="#CozyClient+create">.create(type, doc, references, options)</a> ⇒ <code>Promise</code>
        * <a href="#CozyClient+getDocumentSavePlan">.getDocumentSavePlan(document, [referencesByName])</a> ⇒ <code>Array.&lt;Mutation&gt;</code>
        * <a href="#CozyClient+destroy">.destroy(document)</a> ⇒ <a href="#Document"><code>Document</code></a>
        * <a href="#CozyClient+query">.query(queryDefinition, options)</a> ⇒ <code>QueryResult</code>
        * <a href="#CozyClient+queryAll">.queryAll(queryDefinition, options)</a> ⇒ <code>Array</code>
        * <a href="#CozyClient+hydrateDocuments">.hydrateDocuments(doctype, documents)</a> ⇒ <code>Array.&lt;HydratedDocument&gt;</code>
        * <a href="#CozyClient+hydrateDocument">.hydrateDocument(document, schemaArg)</a> ⇒ <code>HydratedDocument</code>
        * <a href="#CozyClient+makeNewDocument">.makeNewDocument()</a>
        * <a href="#CozyClient+getAssociation">.getAssociation()</a>
        * <a href="#CozyClient+getRelationshipStoreAccessors">.getRelationshipStoreAccessors()</a>
        * <a href="#CozyClient+getCollectionFromState">.getCollectionFromState(type)</a> ⇒ <a href="#Document"><code>Array.&lt;Document&gt;</code></a>
        * <a href="#CozyClient+getDocumentFromState">.getDocumentFromState(type, id)</a> ⇒ <a href="#Document"><code>Document</code></a>
        * <a href="#CozyClient+getQueryFromState">.getQueryFromState(id, options)</a> ⇒ <a href="#QueryState"><code>QueryState</code></a>
        * <a href="#CozyClient+register">.register(cozyURL)</a> ⇒ <code>object</code>
        * <a href="#CozyClient+startOAuthFlow">.startOAuthFlow(openURLCallback)</a> ⇒ <code>object</code>
        * <a href="#CozyClient+renewAuthorization">.renewAuthorization()</a> ⇒ <code>object</code>
        * <a href="#CozyClient+setStore">.setStore(store, options)</a>
        * <a href="#CozyClient+checkForRevocation">.checkForRevocation()</a>
        * <a href="#CozyClient+handleRevocationChange">.handleRevocationChange()</a>
        * <a href="#CozyClient+handleTokenRefresh">.handleTokenRefresh()</a>
        * <a href="#CozyClient+createClient">.createClient()</a>
        * <a href="#CozyClient+getInstanceOptions">.getInstanceOptions()</a> ⇒ <code>object</code>
        * <a href="#CozyClient+loadInstanceOptionsFromDOM">.loadInstanceOptionsFromDOM([selector])</a> ⇒ <code>void</code>
        * <a href="#CozyClient+setData">.setData(data)</a>
    * <em>static</em>
        * <a href="#CozyClient.fromOldClient">.fromOldClient()</a>
        * <a href="#CozyClient.fromOldOAuthClient">.fromOldOAuthClient()</a> ⇒ <a href="#CozyClient"><code>CozyClient</code></a>
        * <a href="#CozyClient.fromEnv">.fromEnv()</a>
        * <a href="#CozyClient.fromDOM">.fromDOM(selector, options)</a> ⇒ <code>object</code>
        * <a href="#CozyClient.registerHook">.registerHook(doctype, name, fn)</a></li>
</ul>
<p><a name="new_CozyClient_new"></a></p>
<h3 id="new-cozyclientoptions">new CozyClient(options)<a class="headerlink" href="#new-cozyclientoptions" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>options</td>
<td><code>object</code></td>
<td>Options</td>
</tr>
<tr>
<td>options.link</td>
<td><code>Link</code></td>
<td>Backward compatibility</td>
</tr>
<tr>
<td>options.links</td>
<td><code>Array.Link</code></td>
<td>List of links</td>
</tr>
<tr>
<td>options.schema</td>
<td><code>object</code></td>
<td>Schema description for each doctypes</td>
</tr>
<tr>
<td>options.appMetadata</td>
<td><code>object</code></td>
<td>Metadata about the application that will be used in ensureCozyMetadata</td>
</tr>
</tbody>
</table>
<p><a name="CozyClient+registerPlugin"></a></p>
<h3 id="cozyclientregisterplugin">cozyClient.registerPlugin()<a class="headerlink" href="#cozyclientregisterplugin" title="Permanent link">&para;</a></h3>
<p>A plugin is a class whose constructor receives the client as first argument.
The main mean of interaction with the client should be with events
like &ldquo;login&rdquo;/&rdquo;logout&rdquo;.</p>
<p>The plugin system is meant to encourage separation of concerns, modularity
and testability : instead of registering events at module level, please
create a plugin that subscribes to events.</p>
<p>Plugin instances are stored internally in the <code>plugins</code> attribute of the client
and can be accessed via this mean. A plugin class must have the attribute
<code>pluginName</code> that will be use as the key in the <code>plugins</code> object.</p>
<p>Two plugins with the same <code>pluginName</code> cannot co-exist.</p>
<p><strong>Kind</strong>: instance method of <a href="#CozyClient"><code>CozyClient</code></a><br />
<strong>Example</strong>  </p>
<div class="codehilite"><pre><span></span><span class="kr">class</span> <span class="nx">AlertPlugin</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="p">(</span><span class="nx">client</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">client</span> <span class="o">=</span> <span class="nx">client</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">options</span> <span class="o">=</span> <span class="nx">options</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">handleLogin</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">handleLogin</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">handleLogout</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">handleLogout</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;login&quot;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">handleLogin</span><span class="p">)</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;logout&quot;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">handleLogout</span><span class="p">)</span>
  <span class="p">}</span>

  <span class="nx">handleLogin</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">onLoginAlert</span><span class="p">)</span>
  <span class="p">}</span>

  <span class="nx">handleLogout</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">onLogoutAlert</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">AlertPlugin</span><span class="p">.</span><span class="nx">pluginName</span> <span class="o">=</span> <span class="s1">&#39;alerts&#39;</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">registerPlugin</span><span class="p">(</span><span class="nx">AlertPlugin</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">onLoginAlert</span><span class="o">:</span> <span class="s1">&#39;client has logged in !&#39;</span><span class="p">,</span>
  <span class="nx">onLogoutAlert</span><span class="o">:</span> <span class="s1">&#39;client has logged out !&#39;</span>
<span class="p">})</span>

<span class="c1">// the instance of the plugin is accessible via</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">plugins</span><span class="p">.</span><span class="nx">alerts</span>
</pre></div>


<p><a name="CozyClient+login"></a></p>
<h3 id="cozyclientloginoptions-promise">cozyClient.login(options) ⇒ <code>Promise</code><a class="headerlink" href="#cozyclientloginoptions-promise" title="Permanent link">&para;</a></h3>
<p>Notify the links that they can start and set isLogged to true.</p>
<p>On mobile, where url/token are set after instantiation, use this method
to set the token and uri via options.</p>
<p>Emits</p>
<ul>
<li>&ldquo;beforeLogin&rdquo; at the beginning, before links have been set up</li>
<li>&ldquo;login&rdquo; when the client is fully logged in and links have been set up</li>
</ul>
<p><strong>Kind</strong>: instance method of <a href="#CozyClient"><code>CozyClient</code></a><br />
<strong>Returns</strong>: <code>Promise</code> - - Resolves when all links have been setup and client is fully logged in  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>options</td>
<td><code>object</code></td>
<td>Options</td>
</tr>
<tr>
<td>options.token</td>
<td><code>string</code></td>
<td>If passed, the token is set on the client</td>
</tr>
<tr>
<td>options.uri</td>
<td><code>string</code></td>
<td>If passed, the uri is set on the client</td>
</tr>
</tbody>
</table>
<p><a name="CozyClient+logout"></a></p>
<h3 id="cozyclientlogout-promise">cozyClient.logout() ⇒ <code>Promise</code><a class="headerlink" href="#cozyclientlogout-promise" title="Permanent link">&para;</a></h3>
<p>Logs out the client and reset all the links</p>
<p>Emits</p>
<ul>
<li>&ldquo;beforeLogout&rdquo; at the beginning, before links have been reset</li>
<li>&ldquo;login&rdquo; when the client is fully logged out and links have been reset</li>
</ul>
<p><strong>Kind</strong>: instance method of <a href="#CozyClient"><code>CozyClient</code></a><br />
<strong>Returns</strong>: <code>Promise</code> - - Resolves when all links have been reset and client is fully logged out<br />
<a name="CozyClient+collection"></a></p>
<h3 id="cozyclientcollectiondoctype-documentcollection">cozyClient.collection(doctype) ⇒ <code>DocumentCollection</code><a class="headerlink" href="#cozyclientcollectiondoctype-documentcollection" title="Permanent link">&para;</a></h3>
<p>Forwards to a stack client instance and returns
a <a href="https://docs.cozy.io/en/cozy-client/api/cozy-stack-client/#DocumentCollection">DocumentCollection</a> instance.</p>
<p><strong>Kind</strong>: instance method of <a href="#CozyClient"><code>CozyClient</code></a><br />
<strong>Returns</strong>: <code>DocumentCollection</code> - Collection corresponding to the doctype  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>doctype</td>
<td><code>string</code></td>
<td>The collection doctype.</td>
</tr>
</tbody>
</table>
<p><a name="CozyClient+create"></a></p>
<h3 id="cozyclientcreatetype-doc-references-options-promise">cozyClient.create(type, doc, references, options) ⇒ <code>Promise</code><a class="headerlink" href="#cozyclientcreatetype-doc-references-options-promise" title="Permanent link">&para;</a></h3>
<p>Creates a document and saves it on the server</p>
<p><strong>Kind</strong>: instance method of <a href="#CozyClient"><code>CozyClient</code></a>  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td><code>string</code></td>
<td>Doctype of the document</td>
</tr>
<tr>
<td>doc</td>
<td><code>object</code></td>
<td>Document to save</td>
</tr>
<tr>
<td>references</td>
<td><a href="#Reference"><code>Array.&lt;Reference&gt;</code></a></td>
<td>(Optional) References are a special kind of relationship that is not stored inside the referencer document, they are used for example between a photo and its album. You should not need to use it normally.</td>
</tr>
<tr>
<td>options</td>
<td><code>object</code></td>
<td>Mutation options</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong>  </p>
<div class="codehilite"><pre><span></span><span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="s1">&#39;io.cozy.todos&#39;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;My todo&#39;</span><span class="p">,</span>
  <span class="nx">relationships</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">authors</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">data</span><span class="o">:</span> <span class="p">[{</span><span class="nx">_id</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">_type</span><span class="o">:</span> <span class="s1">&#39;io.cozy.persons&#39;</span><span class="p">}]</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">})</span>
</pre></div>


<p><a name="CozyClient+getDocumentSavePlan"></a></p>
<h3 id="cozyclientgetdocumentsaveplandocument-referencesbyname-arraymutation">cozyClient.getDocumentSavePlan(document, [referencesByName]) ⇒ <code>Array.&lt;Mutation&gt;</code><a class="headerlink" href="#cozyclientgetdocumentsaveplandocument-referencesbyname-arraymutation" title="Permanent link">&para;</a></h3>
<p>Creates a list of mutations to execute to create a document and its relationships.</p>
<div class="codehilite"><pre><span></span><span class="kr">const</span> <span class="nx">baseDoc</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">_type</span><span class="o">:</span> <span class="s1">&#39;io.cozy.todo&#39;</span><span class="p">,</span> <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;Go hiking&#39;</span> <span class="p">}</span>
<span class="c1">// relations can be arrays or single objects</span>
<span class="kr">const</span> <span class="nx">relationships</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">attachments</span><span class="o">:</span> <span class="p">[{</span> <span class="nx">_id</span><span class="o">:</span> <span class="mi">12345</span><span class="p">,</span> <span class="nx">_type</span><span class="o">:</span> <span class="s1">&#39;io.cozy.files&#39;</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">_id</span><span class="o">:</span> <span class="mi">6789</span><span class="p">,</span> <span class="nx">_type</span><span class="o">:</span> <span class="s1">&#39;io.cozy.files&#39;</span> <span class="p">}],</span>
  <span class="nx">bills</span><span class="o">:</span> <span class="p">{</span> <span class="nx">_id</span><span class="o">:</span> <span class="mi">9999</span><span class="p">,</span> <span class="nx">_type</span><span class="o">:</span> <span class="s1">&#39;io.cozy.bills&#39;</span> <span class="p">}</span>
<span class="p">}</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">getDocumentSavePlan</span><span class="p">(</span><span class="nx">baseDoc</span><span class="p">,</span> <span class="nx">relationships</span><span class="p">)</span>
</pre></div>


<p><strong>Kind</strong>: instance method of <a href="#CozyClient"><code>CozyClient</code></a><br />
<strong>Returns</strong>: <code>Array.&lt;Mutation&gt;</code> - One or more mutation to execute  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>document</td>
<td><code>object</code></td>
<td>Document to create</td>
</tr>
<tr>
<td>[referencesByName]</td>
<td><code>object.&lt;string, Array.&lt;Reference&gt;&gt;</code></td>
<td>References to the created document. The relationship class associated to each reference list should support references, otherwise this method will throw.</td>
</tr>
</tbody>
</table>
<p><a name="CozyClient+destroy"></a></p>
<h3 id="cozyclientdestroydocument-document">cozyClient.destroy(document) ⇒ <a href="#Document"><code>Document</code></a><a class="headerlink" href="#cozyclientdestroydocument-document" title="Permanent link">&para;</a></h3>
<p>Destroys a document. {before,after}:destroy hooks will be fired.</p>
<p><strong>Kind</strong>: instance method of <a href="#CozyClient"><code>CozyClient</code></a><br />
<strong>Returns</strong>: <a href="#Document"><code>Document</code></a> - The document that has been deleted  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>document</td>
<td><a href="#Document"><code>Document</code></a></td>
<td>Document to be deleted</td>
</tr>
</tbody>
</table>
<p><a name="CozyClient+query"></a></p>
<h3 id="cozyclientqueryquerydefinition-options-queryresult">cozyClient.query(queryDefinition, options) ⇒ <code>QueryResult</code><a class="headerlink" href="#cozyclientqueryquerydefinition-options-queryresult" title="Permanent link">&para;</a></h3>
<p>Executes a query and returns its results.</p>
<p>Results from the query will be saved internally and can be retrieved via
<code>getQueryFromState</code> or directly using <code>&lt;Query /&gt;</code>. <code>&lt;Query /&gt;</code> automatically
executes its query when mounted if no fetch policy has been indicated.</p>
<p><strong>Kind</strong>: instance method of <a href="#CozyClient"><code>CozyClient</code></a>  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>queryDefinition</td>
<td><a href="#QueryDefinition"><code>QueryDefinition</code></a></td>
<td>Definition that will be executed</td>
</tr>
<tr>
<td>options</td>
<td><code>string</code></td>
<td>Options</td>
</tr>
<tr>
<td>options.as</td>
<td><code>string</code></td>
<td>Names the query so it can be reused (by multiple components for example)</td>
</tr>
<tr>
<td>options.fetchPolicy</td>
<td><code>string</code></td>
<td>Fetch policy to bypass fetching based on what&rsquo;s already inside the state. See &ldquo;Fetch policies&rdquo;</td>
</tr>
</tbody>
</table>
<p><a name="CozyClient+queryAll"></a></p>
<h3 id="cozyclientqueryallquerydefinition-options-array">cozyClient.queryAll(queryDefinition, options) ⇒ <code>Array</code><a class="headerlink" href="#cozyclientqueryallquerydefinition-options-array" title="Permanent link">&para;</a></h3>
<p>Will fetch all documents for a <code>queryDefinition</code>, automatically fetching more
documents if the total of documents is superior to the pagination limit. Can
result in a lot of network requests.</p>
<p><strong>Kind</strong>: instance method of <a href="#CozyClient"><code>CozyClient</code></a><br />
<strong>Returns</strong>: <code>Array</code> - All documents matching the query  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>queryDefinition</td>
<td><a href="#QueryDefinition"><code>QueryDefinition</code></a></td>
<td>Definition to be executed</td>
</tr>
<tr>
<td>options</td>
<td><code>object</code></td>
<td>Options to the query</td>
</tr>
</tbody>
</table>
<p><a name="CozyClient+hydrateDocuments"></a></p>
<h3 id="cozyclienthydratedocumentsdoctype-documents-arrayhydrateddocument">cozyClient.hydrateDocuments(doctype, documents) ⇒ <code>Array.&lt;HydratedDocument&gt;</code><a class="headerlink" href="#cozyclienthydratedocumentsdoctype-documents-arrayhydrateddocument" title="Permanent link">&para;</a></h3>
<p>Returns documents with their relationships resolved according to their schema.
If related documents are not in the store, they will not be fetched automatically.
Instead, the relationships will have null documents.</p>
<p><strong>Kind</strong>: instance method of <a href="#CozyClient"><code>CozyClient</code></a>  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>doctype</td>
<td><code>string</code></td>
<td>Doctype of the documents being hydrated</td>
</tr>
<tr>
<td>documents</td>
<td><a href="#Document"><code>Array.&lt;Document&gt;</code></a></td>
<td>Documents to be hydrated</td>
</tr>
</tbody>
</table>
<p><a name="CozyClient+hydrateDocument"></a></p>
<h3 id="cozyclienthydratedocumentdocument-schemaarg-hydrateddocument">cozyClient.hydrateDocument(document, schemaArg) ⇒ <code>HydratedDocument</code><a class="headerlink" href="#cozyclienthydratedocumentdocument-schemaarg-hydrateddocument" title="Permanent link">&para;</a></h3>
<p>Resolves relationships on a document.</p>
<p>The original document is kept in the target attribute of
the relationship</p>
<p><strong>Kind</strong>: instance method of <a href="#CozyClient"><code>CozyClient</code></a>  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>document</td>
<td><a href="#Document"><code>Document</code></a></td>
<td>for which relationships must be resolved</td>
</tr>
<tr>
<td>schemaArg</td>
<td><a href="#Schema"><code>Schema</code></a></td>
<td>for the document doctype</td>
</tr>
</tbody>
</table>
<p><a name="CozyClient+makeNewDocument"></a></p>
<h3 id="cozyclientmakenewdocument">cozyClient.makeNewDocument()<a class="headerlink" href="#cozyclientmakenewdocument" title="Permanent link">&para;</a></h3>
<p>Creates (locally) a new document for the given doctype.
This document is hydrated : its relationships are there
and working.</p>
<p><strong>Kind</strong>: instance method of <a href="#CozyClient"><code>CozyClient</code></a><br />
<a name="CozyClient+getAssociation"></a></p>
<h3 id="cozyclientgetassociation">cozyClient.getAssociation()<a class="headerlink" href="#cozyclientgetassociation" title="Permanent link">&para;</a></h3>
<p>Creates an association that is linked to the store.</p>
<p><strong>Kind</strong>: instance method of <a href="#CozyClient"><code>CozyClient</code></a><br />
<a name="CozyClient+getRelationshipStoreAccessors"></a></p>
<h3 id="cozyclientgetrelationshipstoreaccessors">cozyClient.getRelationshipStoreAccessors()<a class="headerlink" href="#cozyclientgetrelationshipstoreaccessors" title="Permanent link">&para;</a></h3>
<p>Returns the accessors that are given to the relationships for them
to deal with the stores.</p>
<p>Relationships need to have access to the store to ping it when
a modification (addById/removeById etc&hellip;) has been done. This wakes
the store up, which in turn will update the <code>&lt;Query&gt;</code>s and re-render the data.</p>
<p><strong>Kind</strong>: instance method of <a href="#CozyClient"><code>CozyClient</code></a><br />
<a name="CozyClient+getCollectionFromState"></a></p>
<h3 id="cozyclientgetcollectionfromstatetype-arraydocument">cozyClient.getCollectionFromState(type) ⇒ <a href="#Document"><code>Array.&lt;Document&gt;</code></a><a class="headerlink" href="#cozyclientgetcollectionfromstatetype-arraydocument" title="Permanent link">&para;</a></h3>
<p>Get a collection of documents from the internal store.</p>
<p><strong>Kind</strong>: instance method of <a href="#CozyClient"><code>CozyClient</code></a><br />
<strong>Returns</strong>: <a href="#Document"><code>Array.&lt;Document&gt;</code></a> - Array of documents or null if the collection does not exist.  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td><code>string</code></td>
<td>Doctype of the collection</td>
</tr>
</tbody>
</table>
<p><a name="CozyClient+getDocumentFromState"></a></p>
<h3 id="cozyclientgetdocumentfromstatetype-id-document">cozyClient.getDocumentFromState(type, id) ⇒ <a href="#Document"><code>Document</code></a><a class="headerlink" href="#cozyclientgetdocumentfromstatetype-id-document" title="Permanent link">&para;</a></h3>
<p>Get a document from the internal store.</p>
<p><strong>Kind</strong>: instance method of <a href="#CozyClient"><code>CozyClient</code></a><br />
<strong>Returns</strong>: <a href="#Document"><code>Document</code></a> - Document or null if the object does not exist.  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td><code>string</code></td>
<td>Doctype of the document</td>
</tr>
<tr>
<td>id</td>
<td><code>string</code></td>
<td>Id of the document</td>
</tr>
</tbody>
</table>
<p><a name="CozyClient+getQueryFromState"></a></p>
<h3 id="cozyclientgetqueryfromstateid-options-querystate">cozyClient.getQueryFromState(id, options) ⇒ <a href="#QueryState"><code>QueryState</code></a><a class="headerlink" href="#cozyclientgetqueryfromstateid-options-querystate" title="Permanent link">&para;</a></h3>
<p>Get a query from the internal store.</p>
<p><strong>Kind</strong>: instance method of <a href="#CozyClient"><code>CozyClient</code></a><br />
<strong>Returns</strong>: <a href="#QueryState"><code>QueryState</code></a> - - Query state or null if it does not exist.  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td><code>string</code></td>
<td>Id of the query (set via Query.props.as)</td>
</tr>
<tr>
<td>options</td>
<td><code>object</code></td>
<td>Options</td>
</tr>
<tr>
<td>options.hydrated</td>
<td><code>boolean</code></td>
<td>Whether documents should be returned already hydrated (default: false)</td>
</tr>
<tr>
<td>options.singleDocData</td>
<td><code>object</code></td>
<td>If true, the &ldquo;data&rdquo; returned will be a single doc instead of an array for single doc queries. Defaults to false for backward compatibility but will be set to true in the future.</td>
</tr>
</tbody>
</table>
<p><a name="CozyClient+register"></a></p>
<h3 id="cozyclientregistercozyurl-object">cozyClient.register(cozyURL) ⇒ <code>object</code><a class="headerlink" href="#cozyclientregistercozyurl-object" title="Permanent link">&para;</a></h3>
<p>Performs a complete OAuth flow using a Cordova webview for auth.
The <code>register</code> method&rsquo;s name has been chosen for compat reasons with the Authentication compo.</p>
<p><strong>Kind</strong>: instance method of <a href="#CozyClient"><code>CozyClient</code></a><br />
<strong>Returns</strong>: <code>object</code> - Contains the fetched token and the client information.  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>cozyURL</td>
<td><code>string</code></td>
<td>Receives the URL of the cozy instance.</td>
</tr>
</tbody>
</table>
<p><a name="CozyClient+startOAuthFlow"></a></p>
<h3 id="cozyclientstartoauthflowopenurlcallback-object">cozyClient.startOAuthFlow(openURLCallback) ⇒ <code>object</code><a class="headerlink" href="#cozyclientstartoauthflowopenurlcallback-object" title="Permanent link">&para;</a></h3>
<p>Performs a complete OAuth flow, including updating the internal token at the end.</p>
<p><strong>Kind</strong>: instance method of <a href="#CozyClient"><code>CozyClient</code></a><br />
<strong>Returns</strong>: <code>object</code> - Contains the fetched token and the client information. These should be stored and used to restore the client.  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>openURLCallback</td>
<td><code>function</code></td>
<td>Receives the URL to present to the user as a parameter, and should return a promise that resolves with the URL the user was redirected to after accepting the permissions.</td>
</tr>
</tbody>
</table>
<p><a name="CozyClient+renewAuthorization"></a></p>
<h3 id="cozyclientrenewauthorization-object">cozyClient.renewAuthorization() ⇒ <code>object</code><a class="headerlink" href="#cozyclientrenewauthorization-object" title="Permanent link">&para;</a></h3>
<p>Renews the token if, for instance, new permissions are required or token
has expired.</p>
<p><strong>Kind</strong>: instance method of <a href="#CozyClient"><code>CozyClient</code></a><br />
<strong>Returns</strong>: <code>object</code> - Contains the fetched token and the client information.<br />
<a name="CozyClient+setStore"></a></p>
<h3 id="cozyclientsetstorestore-options">cozyClient.setStore(store, options)<a class="headerlink" href="#cozyclientsetstorestore-options" title="Permanent link">&para;</a></h3>
<p>Sets the internal store of the client. Use this when you want to have cozy-client&rsquo;s
internal store colocated with your existing Redux store.</p>
<p>Typically, you would need to do this only once in your application, this is why
setStore throws if you do it twice. If you really need to set the store again,
use options.force = true.</p>
<p><strong>Kind</strong>: instance method of <a href="#CozyClient"><code>CozyClient</code></a>  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>store</td>
<td><code>ReduxStore</code></td>
<td>A redux store</td>
</tr>
<tr>
<td>options</td>
<td><code>object</code></td>
<td>Options</td>
</tr>
<tr>
<td>options.force</td>
<td><code>boolean</code></td>
<td>Will deactivate throwing when client&rsquo;s store already exists</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong>  </p>
<div class="codehilite"><pre><span></span>const client = new CozyClient()
const store = createStore(combineReducers({
  todos: todoReducer,
  cozy: client.reducer()
})
client.setStore(store)
</pre></div>


<p><a name="CozyClient+checkForRevocation"></a></p>
<h3 id="cozyclientcheckforrevocation">cozyClient.checkForRevocation()<a class="headerlink" href="#cozyclientcheckforrevocation" title="Permanent link">&para;</a></h3>
<p>Returns whether the client has been revoked on the server</p>
<p><strong>Kind</strong>: instance method of <a href="#CozyClient"><code>CozyClient</code></a><br />
<a name="CozyClient+handleRevocationChange"></a></p>
<h3 id="cozyclienthandlerevocationchange">cozyClient.handleRevocationChange()<a class="headerlink" href="#cozyclienthandlerevocationchange" title="Permanent link">&para;</a></h3>
<p>Sets public attribute and emits event related to revocation</p>
<p><strong>Kind</strong>: instance method of <a href="#CozyClient"><code>CozyClient</code></a><br />
<a name="CozyClient+handleTokenRefresh"></a></p>
<h3 id="cozyclienthandletokenrefresh">cozyClient.handleTokenRefresh()<a class="headerlink" href="#cozyclienthandletokenrefresh" title="Permanent link">&para;</a></h3>
<p>Emits event when token is refreshed</p>
<p><strong>Kind</strong>: instance method of <a href="#CozyClient"><code>CozyClient</code></a><br />
<a name="CozyClient+createClient"></a></p>
<h3 id="cozyclientcreateclient">cozyClient.createClient()<a class="headerlink" href="#cozyclientcreateclient" title="Permanent link">&para;</a></h3>
<p>If no stack client has been passed in options, creates a default stack
client and attaches handlers for revocation and token refresh.
If a stackClient has been passed in options, ensure it has handlers for
revocation and token refresh.</p>
<p>If <code>oauth</code> options are passed, stackClient is an OAuthStackClient.</p>
<p><strong>Kind</strong>: instance method of <a href="#CozyClient"><code>CozyClient</code></a><br />
<a name="CozyClient+getInstanceOptions"></a></p>
<h3 id="cozyclientgetinstanceoptions-object">cozyClient.getInstanceOptions() ⇒ <code>object</code><a class="headerlink" href="#cozyclientgetinstanceoptions-object" title="Permanent link">&para;</a></h3>
<p>getInstanceOptions - Returns current instance options, such as domain or app slug</p>
<p><strong>Kind</strong>: instance method of <a href="#CozyClient"><code>CozyClient</code></a><br />
<a name="CozyClient+loadInstanceOptionsFromDOM"></a></p>
<h3 id="cozyclientloadinstanceoptionsfromdomselector-void">cozyClient.loadInstanceOptionsFromDOM([selector]) ⇒ <code>void</code><a class="headerlink" href="#cozyclientloadinstanceoptionsfromdomselector-void" title="Permanent link">&para;</a></h3>
<p>loadInstanceOptionsFromDOM - Loads the dataset injected by the Stack in web pages and exposes it through getInstanceOptions</p>
<p><strong>Kind</strong>: instance method of <a href="#CozyClient"><code>CozyClient</code></a>  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>[selector]</td>
<td><code>string</code></td>
<td><code>&quot;[role&#x3D;application]&quot;</code></td>
<td>A selector for the node that holds the dataset to load</td>
</tr>
</tbody>
</table>
<p><a name="CozyClient+setData"></a></p>
<h3 id="cozyclientsetdatadata">cozyClient.setData(data)<a class="headerlink" href="#cozyclientsetdatadata" title="Permanent link">&para;</a></h3>
<p>Directly set the data in the store, without using a query
This is useful for cases like Pouch replication, which wants to
set some data in the store.</p>
<p><strong>Kind</strong>: instance method of <a href="#CozyClient"><code>CozyClient</code></a>  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td><code>object</code></td>
<td _data_="[data]" doctype:="doctype:">Data that is inserted in the store. Shape: </td>
</tr>
</tbody>
</table>
<p><a name="CozyClient.fromOldClient"></a></p>
<h3 id="cozyclientfromoldclient">CozyClient.fromOldClient()<a class="headerlink" href="#cozyclientfromoldclient" title="Permanent link">&para;</a></h3>
<p>To help with the transition from cozy-client-js to cozy-client, it is possible to instantiate
a client with a cookie-based instance of cozy-client-js.</p>
<p><strong>Kind</strong>: static method of <a href="#CozyClient"><code>CozyClient</code></a><br />
<a name="CozyClient.fromOldOAuthClient"></a></p>
<h3 id="cozyclientfromoldoauthclient-cozyclient">CozyClient.fromOldOAuthClient() ⇒ <a href="#CozyClient"><code>CozyClient</code></a><a class="headerlink" href="#cozyclientfromoldoauthclient-cozyclient" title="Permanent link">&para;</a></h3>
<p>To help with the transition from cozy-client-js to cozy-client, it is possible to instantiate
a client with an OAuth-based instance of cozy-client-js.</p>
<p>Warning: unlike other instantiators, this one needs to be awaited.</p>
<p><strong>Kind</strong>: static method of <a href="#CozyClient"><code>CozyClient</code></a><br />
<strong>Returns</strong>: <a href="#CozyClient"><code>CozyClient</code></a> - An instance of a client, configured from the old client<br />
<a name="CozyClient.fromEnv"></a></p>
<h3 id="cozyclientfromenv">CozyClient.fromEnv()<a class="headerlink" href="#cozyclientfromenv" title="Permanent link">&para;</a></h3>
<p>In konnector/service context, CozyClient can be instantiated from environment variables</p>
<p><strong>Kind</strong>: static method of <a href="#CozyClient"><code>CozyClient</code></a><br />
<a name="CozyClient.fromDOM"></a></p>
<h3 id="cozyclientfromdomselector-options-object">CozyClient.fromDOM(selector, options) ⇒ <code>object</code><a class="headerlink" href="#cozyclientfromdomselector-options-object" title="Permanent link">&para;</a></h3>
<p>When used from an app, CozyClient can be instantiated from the data injected by the stack in
the DOM.</p>
<p><strong>Kind</strong>: static method of <a href="#CozyClient"><code>CozyClient</code></a><br />
<strong>Returns</strong>: <code>object</code> - - CozyClient instance  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>selector</td>
<td><code>string</code></td>
<td><code>&quot;[role&#x3D;application]&quot;</code></td>
<td>Options</td>
</tr>
<tr>
<td>options</td>
<td><code>object</code></td>
<td></td>
<td>CozyClient constructor options</td>
</tr>
</tbody>
</table>
<p><a name="CozyClient.registerHook"></a></p>
<h3 id="cozyclientregisterhookdoctype-name-fn">CozyClient.registerHook(doctype, name, fn)<a class="headerlink" href="#cozyclientregisterhookdoctype-name-fn" title="Permanent link">&para;</a></h3>
<p>Hooks are an observable system for events on documents.
There are at the moment only 2 hooks available.</p>
<ul>
<li>before:destroy, called just before a document is destroyed via CozyClient::destroy</li>
<li>after:destroy, called after a document is destroyed via CozyClient::destroy</li>
</ul>
<p><strong>Kind</strong>: static method of <a href="#CozyClient"><code>CozyClient</code></a>  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>doctype</td>
<td><code>string</code></td>
<td>Doctype on which the hook will be registered</td>
</tr>
<tr>
<td>name</td>
<td><code>string</code></td>
<td>Name of the hook</td>
</tr>
<tr>
<td>fn</td>
<td><code>function</code></td>
<td>Callback to be executed</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong>  </p>
<div class="codehilite"><pre><span></span>CozyClient.registerHook(&#39;io.cozy.bank.accounts&#39;, &#39;before:destroy&#39;, () =&gt; {
  console.log(&#39;A io.cozy.bank.accounts is being destroyed&#39;)
})
</pre></div>


<p><a name="QueryDefinition"></a></p>
<h2 id="querydefinition">QueryDefinition<a class="headerlink" href="#querydefinition" title="Permanent link">&para;</a></h2>
<p>Chainable API to create query definitions to retrieve documents
from a Cozy. <code>QueryDefinition</code>s are sent to links.</p>
<p><strong>Kind</strong>: global class  </p>
<ul>
<li><a href="#QueryDefinition">QueryDefinition</a>
    * <a href="#new_QueryDefinition_new">new QueryDefinition(options)</a>
    * <a href="#QueryDefinition+checkSortOrder">.checkSortOrder(sort|selector|indexedFields)</a>
    * <a href="#QueryDefinition+getById">.getById(id)</a> ⇒ <a href="#QueryDefinition"><code>QueryDefinition</code></a>
    * <a href="#QueryDefinition+getByIds">.getByIds(ids)</a> ⇒ <a href="#QueryDefinition"><code>QueryDefinition</code></a>
    * <a href="#QueryDefinition+where">.where(selector)</a> ⇒ <a href="#QueryDefinition"><code>QueryDefinition</code></a>
    * <a href="#QueryDefinition+select">.select(fields)</a> ⇒ <a href="#QueryDefinition"><code>QueryDefinition</code></a>
    * <a href="#QueryDefinition+indexFields">.indexFields(indexedFields)</a> ⇒ <a href="#QueryDefinition"><code>QueryDefinition</code></a>
    * <a href="#QueryDefinition+sortBy">.sortBy(sort)</a> ⇒ <a href="#QueryDefinition"><code>QueryDefinition</code></a>
    * <a href="#QueryDefinition+include">.include(includes)</a> ⇒ <a href="#QueryDefinition"><code>QueryDefinition</code></a>
    * <a href="#QueryDefinition+limitBy">.limitBy(limit)</a> ⇒ <a href="#QueryDefinition"><code>QueryDefinition</code></a>
    * <a href="#QueryDefinition+offset">.offset(skip)</a> ⇒ <a href="#QueryDefinition"><code>QueryDefinition</code></a>
    * <a href="#QueryDefinition+offsetCursor">.offsetCursor(cursor)</a> ⇒ <a href="#QueryDefinition"><code>QueryDefinition</code></a>
    * <a href="#QueryDefinition+offsetBookmark">.offsetBookmark(bookmark)</a> ⇒ <a href="#QueryDefinition"><code>QueryDefinition</code></a>
    * <a href="#QueryDefinition+referencedBy">.referencedBy(document)</a> ⇒ <a href="#QueryDefinition"><code>QueryDefinition</code></a></li>
</ul>
<p><a name="new_QueryDefinition_new"></a></p>
<h3 id="new-querydefinitionoptions">new QueryDefinition(options)<a class="headerlink" href="#new-querydefinitionoptions" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>options</td>
<td><code>object</code></td>
<td>Initial options for the query definition</td>
</tr>
<tr>
<td>options.doctype</td>
<td><code>string</code></td>
<td>The doctype of the doc.</td>
</tr>
<tr>
<td>options.id</td>
<td><code>string</code></td>
<td>The id of the doc.</td>
</tr>
<tr>
<td>options.ids</td>
<td><code>Array</code></td>
<td>The ids of the docs.</td>
</tr>
<tr>
<td>options.selector</td>
<td><code>object</code></td>
<td>The selector to query the docs.</td>
</tr>
<tr>
<td>options.fields</td>
<td><code>Array</code></td>
<td>The fields to return.</td>
</tr>
<tr>
<td>options.indexedFields</td>
<td><code>Array</code></td>
<td>The fields to index.</td>
</tr>
<tr>
<td>options.sort</td>
<td><code>Array</code></td>
<td>The sorting params.</td>
</tr>
<tr>
<td>options.includes</td>
<td><code>string</code></td>
<td>The docs to include.</td>
</tr>
<tr>
<td>options.referenced</td>
<td><code>string</code></td>
<td>The referenced document.</td>
</tr>
<tr>
<td>options.limit</td>
<td><code>number</code></td>
<td>The document&rsquo;s limit to return.</td>
</tr>
<tr>
<td>options.skip</td>
<td><code>number</code></td>
<td>The number of docs to skip.</td>
</tr>
<tr>
<td>options.cursor</td>
<td><code>number</code></td>
<td>The cursor to paginate views.</td>
</tr>
<tr>
<td>options.bookmark</td>
<td><code>number</code></td>
<td>The bookmark to paginate mango queries.</td>
</tr>
</tbody>
</table>
<p><a name="QueryDefinition+checkSortOrder"></a></p>
<h3 id="querydefinitionchecksortordersortselectorindexedfields">queryDefinition.checkSortOrder(sort|selector|indexedFields)<a class="headerlink" href="#querydefinitionchecksortordersortselectorindexedfields" title="Permanent link">&para;</a></h3>
<p>Check if the sort order matches the index&rsquo; fields order.</p>
<p>When sorting with CouchDB, it is required to:
- use indexed fields
- keep the same order than the indexed fields.</p>
<p>See https://docs.cozy.io/en/tutorials/data/queries/#sort-data-with-mango</p>
<p><strong>Kind</strong>: instance method of <a href="#QueryDefinition"><code>QueryDefinition</code></a>  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>sort</td>
<td>selector</td>
</tr>
</tbody>
</table>
<p><a name="QueryDefinition+getById"></a></p>
<h3 id="querydefinitiongetbyidid-querydefinition">queryDefinition.getById(id) ⇒ <a href="#QueryDefinition"><code>QueryDefinition</code></a><a class="headerlink" href="#querydefinitiongetbyidid-querydefinition" title="Permanent link">&para;</a></h3>
<p>Query a single document on its id.</p>
<p><strong>Kind</strong>: instance method of <a href="#QueryDefinition"><code>QueryDefinition</code></a><br />
<strong>Returns</strong>: <a href="#QueryDefinition"><code>QueryDefinition</code></a> - The QueryDefinition object.  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td><code>string</code></td>
<td>The document id.</td>
</tr>
</tbody>
</table>
<p><a name="QueryDefinition+getByIds"></a></p>
<h3 id="querydefinitiongetbyidsids-querydefinition">queryDefinition.getByIds(ids) ⇒ <a href="#QueryDefinition"><code>QueryDefinition</code></a><a class="headerlink" href="#querydefinitiongetbyidsids-querydefinition" title="Permanent link">&para;</a></h3>
<p>Query several documents on their ids.</p>
<p><strong>Kind</strong>: instance method of <a href="#QueryDefinition"><code>QueryDefinition</code></a><br />
<strong>Returns</strong>: <a href="#QueryDefinition"><code>QueryDefinition</code></a> - The QueryDefinition object.  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>ids</td>
<td><code>Array</code></td>
<td>The documents ids.</td>
</tr>
</tbody>
</table>
<p><a name="QueryDefinition+where"></a></p>
<h3 id="querydefinitionwhereselector-querydefinition">queryDefinition.where(selector) ⇒ <a href="#QueryDefinition"><code>QueryDefinition</code></a><a class="headerlink" href="#querydefinitionwhereselector-querydefinition" title="Permanent link">&para;</a></h3>
<p>Query documents with a <a href="http://docs.couchdb.org/en/latest/api/database/find.html#find-selectors">mango selector</a>.
Each field passed in the selector will be indexed, except if the indexField option is used.</p>
<p><strong>Kind</strong>: instance method of <a href="#QueryDefinition"><code>QueryDefinition</code></a><br />
<strong>Returns</strong>: <a href="#QueryDefinition"><code>QueryDefinition</code></a> - The QueryDefinition object.  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>selector</td>
<td><code>object</code></td>
<td>The Mango selector.</td>
</tr>
</tbody>
</table>
<p><a name="QueryDefinition+select"></a></p>
<h3 id="querydefinitionselectfields-querydefinition">queryDefinition.select(fields) ⇒ <a href="#QueryDefinition"><code>QueryDefinition</code></a><a class="headerlink" href="#querydefinitionselectfields-querydefinition" title="Permanent link">&para;</a></h3>
<p>Specify which fields of each object should be returned. If it is omitted, the entire object is returned.</p>
<p><strong>Kind</strong>: instance method of <a href="#QueryDefinition"><code>QueryDefinition</code></a><br />
<strong>Returns</strong>: <a href="#QueryDefinition"><code>QueryDefinition</code></a> - The QueryDefinition object.  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>fields</td>
<td><code>Array</code></td>
<td>The fields to return.</td>
</tr>
</tbody>
</table>
<p><a name="QueryDefinition+indexFields"></a></p>
<h3 id="querydefinitionindexfieldsindexedfields-querydefinition">queryDefinition.indexFields(indexedFields) ⇒ <a href="#QueryDefinition"><code>QueryDefinition</code></a><a class="headerlink" href="#querydefinitionindexfieldsindexedfields-querydefinition" title="Permanent link">&para;</a></h3>
<p>Specify which fields should be indexed. This prevent the automatic indexing of the mango fields.</p>
<p><strong>Kind</strong>: instance method of <a href="#QueryDefinition"><code>QueryDefinition</code></a><br />
<strong>Returns</strong>: <a href="#QueryDefinition"><code>QueryDefinition</code></a> - The QueryDefinition object.  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>indexedFields</td>
<td><code>Array</code></td>
<td>The fields to index.</td>
</tr>
</tbody>
</table>
<p><a name="QueryDefinition+sortBy"></a></p>
<h3 id="querydefinitionsortbysort-querydefinition">queryDefinition.sortBy(sort) ⇒ <a href="#QueryDefinition"><code>QueryDefinition</code></a><a class="headerlink" href="#querydefinitionsortbysort-querydefinition" title="Permanent link">&para;</a></h3>
<p>Specify how to sort documents, following the <a href="http://docs.couchdb.org/en/latest/api/database/find.html#find-sort">sort syntax</a></p>
<p><strong>Kind</strong>: instance method of <a href="#QueryDefinition"><code>QueryDefinition</code></a><br />
<strong>Returns</strong>: <a href="#QueryDefinition"><code>QueryDefinition</code></a> - The QueryDefinition object.  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>sort</td>
<td><code>Array</code></td>
<td>The list of field name and direction pairs.</td>
</tr>
</tbody>
</table>
<p><a name="QueryDefinition+include"></a></p>
<h3 id="querydefinitionincludeincludes-querydefinition">queryDefinition.include(includes) ⇒ <a href="#QueryDefinition"><code>QueryDefinition</code></a><a class="headerlink" href="#querydefinitionincludeincludes-querydefinition" title="Permanent link">&para;</a></h3>
<p>Includes documents having a relationships with the ones queried.
For example, query albums including the photos.</p>
<p><strong>Kind</strong>: instance method of <a href="#QueryDefinition"><code>QueryDefinition</code></a><br />
<strong>Returns</strong>: <a href="#QueryDefinition"><code>QueryDefinition</code></a> - The QueryDefinition object.  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>includes</td>
<td><code>Array</code></td>
<td>The documents to include.</td>
</tr>
</tbody>
</table>
<p><a name="QueryDefinition+limitBy"></a></p>
<h3 id="querydefinitionlimitbylimit-querydefinition">queryDefinition.limitBy(limit) ⇒ <a href="#QueryDefinition"><code>QueryDefinition</code></a><a class="headerlink" href="#querydefinitionlimitbylimit-querydefinition" title="Permanent link">&para;</a></h3>
<p>Maximum number of documents returned, useful for pagination. Default is 100.</p>
<p><strong>Kind</strong>: instance method of <a href="#QueryDefinition"><code>QueryDefinition</code></a><br />
<strong>Returns</strong>: <a href="#QueryDefinition"><code>QueryDefinition</code></a> - The QueryDefinition object.  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>limit</td>
<td><code>number</code></td>
<td>The document&rsquo;s limit.</td>
</tr>
</tbody>
</table>
<p><a name="QueryDefinition+offset"></a></p>
<h3 id="querydefinitionoffsetskip-querydefinition">queryDefinition.offset(skip) ⇒ <a href="#QueryDefinition"><code>QueryDefinition</code></a><a class="headerlink" href="#querydefinitionoffsetskip-querydefinition" title="Permanent link">&para;</a></h3>
<p>Skip the first ‘n’ documents, where ‘n’ is the value specified.</p>
<p>Beware, this <a href="http://docs.couchdb.org/en/stable/ddocs/views/pagination.html#paging-alternate-method">performs badly</a> on view&rsquo;s index.
 Prefer cursor-based pagination in such situation.</p>
<p><strong>Kind</strong>: instance method of <a href="#QueryDefinition"><code>QueryDefinition</code></a><br />
<strong>Returns</strong>: <a href="#QueryDefinition"><code>QueryDefinition</code></a> - The QueryDefinition object.  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>skip</td>
<td><code>number</code></td>
<td>The number of documents to skip.</td>
</tr>
</tbody>
</table>
<p><a name="QueryDefinition+offsetCursor"></a></p>
<h3 id="querydefinitionoffsetcursorcursor-querydefinition">queryDefinition.offsetCursor(cursor) ⇒ <a href="#QueryDefinition"><code>QueryDefinition</code></a><a class="headerlink" href="#querydefinitionoffsetcursorcursor-querydefinition" title="Permanent link">&para;</a></h3>
<p>Use <a href="https://docs.cozy.io/en/cozy-stack/jsonapi/#pagination">cursor-based</a> pagination.
<em>Warning</em>: this is only useful for views.
The cursor is a [startkey, startkey_docid] array, where startkey is the view&rsquo;s key,
e.g. [&ldquo;io.cozy.photos.albums&rdquo;, &ldquo;album-id&rdquo;] and startkey_docid is the id of
the starting document of the query, e.g. &ldquo;file-id&rdquo;.
Use the last docid of each query as startkey_docid to paginate or leave blank for the first query.</p>
<p><strong>Kind</strong>: instance method of <a href="#QueryDefinition"><code>QueryDefinition</code></a><br />
<strong>Returns</strong>: <a href="#QueryDefinition"><code>QueryDefinition</code></a> - The QueryDefinition object.  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>cursor</td>
<td><code>Array</code></td>
<td>The cursor for pagination.</td>
</tr>
</tbody>
</table>
<p><a name="QueryDefinition+offsetBookmark"></a></p>
<h3 id="querydefinitionoffsetbookmarkbookmark-querydefinition">queryDefinition.offsetBookmark(bookmark) ⇒ <a href="#QueryDefinition"><code>QueryDefinition</code></a><a class="headerlink" href="#querydefinitionoffsetbookmarkbookmark-querydefinition" title="Permanent link">&para;</a></h3>
<p>Use <a href="https://docs.couchdb.org/en/2.2.0/api/database/find.html#pagination">bookmark</a> pagination.
Note this only applies for mango-queries (not views) and is way more efficient than skip pagination.
The bookmark is a string returned by the _find response and can be seen as a pointer in
the index for the next query.</p>
<p><strong>Kind</strong>: instance method of <a href="#QueryDefinition"><code>QueryDefinition</code></a><br />
<strong>Returns</strong>: <a href="#QueryDefinition"><code>QueryDefinition</code></a> - The QueryDefinition object.  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>bookmark</td>
<td><code>string</code></td>
<td>The bookmark to continue a previous paginated query.</td>
</tr>
</tbody>
</table>
<p><a name="QueryDefinition+referencedBy"></a></p>
<h3 id="querydefinitionreferencedbydocument-querydefinition">queryDefinition.referencedBy(document) ⇒ <a href="#QueryDefinition"><code>QueryDefinition</code></a><a class="headerlink" href="#querydefinitionreferencedbydocument-querydefinition" title="Permanent link">&para;</a></h3>
<p>Use the <a href="https://docs.cozy.io/en/cozy-stack/references-docs-in-vfs/">file reference system</a></p>
<p><strong>Kind</strong>: instance method of <a href="#QueryDefinition"><code>QueryDefinition</code></a><br />
<strong>Returns</strong>: <a href="#QueryDefinition"><code>QueryDefinition</code></a> - The QueryDefinition object.  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>document</td>
<td><code>object</code></td>
<td>The reference document</td>
</tr>
</tbody>
</table>
<p><a name="Schema"></a></p>
<h2 id="schema">Schema<a class="headerlink" href="#schema" title="Permanent link">&para;</a></h2>
<p>Stores information on a particular doctype.</p>
<ul>
<li>Attribute validation</li>
<li>Relationship access</li>
</ul>
<div class="codehilite"><pre><span></span><span class="kr">const</span> <span class="nx">schema</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Schema</span><span class="p">({</span>
  <span class="nx">todos</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">attributes</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">label</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">unique</span><span class="o">:</span> <span class="kc">true</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="nx">relationships</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">author</span><span class="o">:</span> <span class="s1">&#39;has-one-in-place&#39;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">},</span> <span class="nx">cozyStackClient</span><span class="p">)</span>
</pre></div>


<p><strong>Kind</strong>: global class  </p>
<ul>
<li><a href="#Schema">Schema</a>
    * <a href="#Schema+getDoctypeSchema">.getDoctypeSchema()</a>
    * <a href="#Schema+getRelationship">.getRelationship()</a>
    * <a href="#Schema+validate">.validate()</a></li>
</ul>
<p><a name="Schema+getDoctypeSchema"></a></p>
<h3 id="schemagetdoctypeschema">schema.getDoctypeSchema()<a class="headerlink" href="#schemagetdoctypeschema" title="Permanent link">&para;</a></h3>
<p>Returns the schema for a doctype</p>
<p>Creates an empty schema implicitly if it does not exist</p>
<p><strong>Kind</strong>: instance method of <a href="#Schema"><code>Schema</code></a><br />
<a name="Schema+getRelationship"></a></p>
<h3 id="schemagetrelationship">schema.getRelationship()<a class="headerlink" href="#schemagetrelationship" title="Permanent link">&para;</a></h3>
<p>Returns the relationship for a given doctype/name</p>
<p><strong>Kind</strong>: instance method of <a href="#Schema"><code>Schema</code></a><br />
<a name="Schema+validate"></a></p>
<h3 id="schemavalidate">schema.validate()<a class="headerlink" href="#schemavalidate" title="Permanent link">&para;</a></h3>
<p>Validates a document considering the descriptions in schema.attributes.</p>
<p><strong>Kind</strong>: instance method of <a href="#Schema"><code>Schema</code></a><br />
<a name="getHasManyItem"></a></p>
<h2 id="gethasmanyitem">getHasManyItem<a class="headerlink" href="#gethasmanyitem" title="Permanent link">&para;</a></h2>
<p>Gets a relationship item with the relationship name and id</p>
<p><strong>Kind</strong>: global constant  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>doc</td>
<td><code>object</code></td>
<td>Document to be updated</td>
</tr>
<tr>
<td>relName</td>
<td><code>string</code></td>
<td>Name of the relationship</td>
</tr>
<tr>
<td>relItemId</td>
<td><code>string</code></td>
<td>Id of the relationship item</td>
</tr>
</tbody>
</table>
<p><a name="setHasManyItem"></a></p>
<h2 id="sethasmanyitem">setHasManyItem<a class="headerlink" href="#sethasmanyitem" title="Permanent link">&para;</a></h2>
<p>Sets a relationship item with the relationship name and id</p>
<p><strong>Kind</strong>: global constant  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>doc</td>
<td><code>object</code></td>
<td>Document to be updated</td>
</tr>
<tr>
<td>relName</td>
<td><code>string</code></td>
<td>Name of the relationship</td>
</tr>
<tr>
<td>relItemId</td>
<td><code>string</code></td>
<td>Id of the relationship item</td>
</tr>
<tr>
<td>relItemAttrs</td>
<td><code>object</code></td>
<td>Attributes to be set (at least _id and _type)</td>
</tr>
</tbody>
</table>
<p><a name="updateHasManyItem"></a></p>
<h2 id="updatehasmanyitem">updateHasManyItem<a class="headerlink" href="#updatehasmanyitem" title="Permanent link">&para;</a></h2>
<p>Updates a relationship item with the relationship name and id</p>
<p><strong>Kind</strong>: global constant  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>doc</td>
<td><code>object</code></td>
<td>Document to be updated</td>
</tr>
<tr>
<td>relName</td>
<td><code>string</code></td>
<td>Name of the relationship</td>
</tr>
<tr>
<td>relItemId</td>
<td><code>string</code></td>
<td>Id of the relationship item</td>
</tr>
<tr>
<td>updater</td>
<td><code>function</code></td>
<td>receives the current relationship item and should return an updated version. Merge should be used in the updater if previous relationship item fields are to be kept.</td>
</tr>
</tbody>
</table>
<p><a name="generateWebLink"></a></p>
<h2 id="generateweblink-string">generateWebLink ⇒ <code>string</code><a class="headerlink" href="#generateweblink-string" title="Permanent link">&para;</a></h2>
<p>generateWebLink - Construct a link to a web app</p>
<p>This function does not get its cozy url from a CozyClient instance so it can
be used to build urls that point to other Cozies than the user&rsquo;s own Cozy.
This is useful when pointing to the Cozy of the owner of a shared note for
example.</p>
<p><strong>Kind</strong>: global constant<br />
<strong>Returns</strong>: <code>string</code> - Generated URL  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>options</td>
<td><code>object</code></td>
<td>Object of options</td>
</tr>
<tr>
<td>options.cozyUrl</td>
<td><code>string</code></td>
<td>Base URL of the cozy, eg. cozy.tools or test.mycozy.cloud</td>
</tr>
<tr>
<td>options.searchParams</td>
<td><code>Array</code></td>
<td>Array of search parameters as [key, value] arrays, eg. [&lsquo;username&rsquo;, &lsquo;bob&rsquo;]</td>
</tr>
<tr>
<td>options.pathname</td>
<td><code>string</code></td>
<td>Path to a specific part of the app, eg. /public</td>
</tr>
<tr>
<td>options.hash</td>
<td><code>string</code></td>
<td>Path inside the app, eg. /files/test.jpg</td>
</tr>
<tr>
<td>options.slug</td>
<td><code>string</code></td>
<td>Slug of the app</td>
</tr>
<tr>
<td>options.subDomainType</td>
<td><code>string</code></td>
<td>Whether the cozy is using flat or nested subdomains. Defaults to flat.</td>
</tr>
</tbody>
</table>
<p><a name="getMutedErrors"></a></p>
<h2 id="getmutederrors-array">getMutedErrors ⇒ <code>Array</code><a class="headerlink" href="#getmutederrors-array" title="Permanent link">&para;</a></h2>
<p>getMutedErrors - Returns the list of errors that have been muted for the given account</p>
<p><strong>Kind</strong>: global constant<br />
<strong>Returns</strong>: <code>Array</code> - An array of errors with a <code>type</code> and <code>mutedAt</code> field  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>account</td>
<td><code>object</code></td>
<td>io.cozy.accounts</td>
</tr>
</tbody>
</table>
<p><a name="muteError"></a></p>
<h2 id="muteerror-cozyaccount">muteError ⇒ <a href="#CozyAccount"><code>CozyAccount</code></a><a class="headerlink" href="#muteerror-cozyaccount" title="Permanent link">&para;</a></h2>
<p>muteError - Adds an error to the list of muted errors for the given account</p>
<p><strong>Kind</strong>: global constant<br />
<strong>Returns</strong>: <a href="#CozyAccount"><code>CozyAccount</code></a> - An updated io.cozy.accounts  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>account</td>
<td><a href="#CozyAccount"><code>CozyAccount</code></a></td>
<td>io.cozy.accounts</td>
</tr>
<tr>
<td>errorType</td>
<td><code>string</code></td>
<td>The type of the error to mute</td>
</tr>
</tbody>
</table>
<p><a name="getContractSyncStatusFromAccount"></a></p>
<h2 id="getcontractsyncstatusfromaccount">getContractSyncStatusFromAccount<a class="headerlink" href="#getcontractsyncstatusfromaccount" title="Permanent link">&para;</a></h2>
<p>Returns whether a contract is synced from account relationship</p>
<p><strong>Kind</strong>: global constant  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>account</td>
<td><a href="#CozyAccount"><code>CozyAccount</code></a></td>
<td>Cozy account</td>
</tr>
</tbody>
</table>
<p><a name="setContractSyncStatusInAccount"></a></p>
<h2 id="setcontractsyncstatusinaccount">setContractSyncStatusInAccount<a class="headerlink" href="#setcontractsyncstatusinaccount" title="Permanent link">&para;</a></h2>
<p>Sets contract sync status into account relationship</p>
<p><strong>Kind</strong>: global constant  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>account</td>
<td><a href="#CozyAccount"><code>CozyAccount</code></a></td>
<td>Cozy account</td>
</tr>
</tbody>
</table>
<p><a name="getStoreURL"></a></p>
<h2 id="getstoreurl-string">getStoreURL ⇒ <code>string</code><a class="headerlink" href="#getstoreurl-string" title="Permanent link">&para;</a></h2>
<p>Returns the store URL of an app/konnector</p>
<p><strong>Kind</strong>: global constant<br />
<strong>Returns</strong>: <code>string</code> - URL as string  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>[appData]</td>
<td><code>Array</code></td>
<td><code>[]</code></td>
<td>Apps data, as returned by endpoint /apps/ or /konnectors</td>
</tr>
<tr>
<td>[app]</td>
<td><code>object</code></td>
<td><code></td>
<td>AppObject</td>
</tr>
</tbody>
</table>
<p><a name="getStoreInstallationURL"></a></p>
<h2 id="getstoreinstallationurl-string">getStoreInstallationURL ⇒ <code>string</code><a class="headerlink" href="#getstoreinstallationurl-string" title="Permanent link">&para;</a></h2>
<p>Returns the store URL to install/update an app/konnector</p>
<p><strong>Kind</strong>: global constant<br />
<strong>Returns</strong>: <code>string</code> - URL as string  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>[appData]</td>
<td><code>Array</code></td>
<td><code>[]</code></td>
<td>Apps data, as returned by endpoint /apps/ or /konnectors/</td>
</tr>
<tr>
<td>[app]</td>
<td><code>object</code></td>
<td><code></td>
<td>AppObject</td>
</tr>
</tbody>
</table>
<p><a name="isInstalled"></a></p>
<h2 id="isinstalled-object">isInstalled ⇒ <code>object</code><a class="headerlink" href="#isinstalled-object" title="Permanent link">&para;</a></h2>
<p><strong>Kind</strong>: global constant<br />
<strong>Returns</strong>: <code>object</code> - The io.cozy.app is installed or undefined if not  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>apps</td>
<td><code>Array</code></td>
<td>Array of apps returned by /apps /konnectors</td>
</tr>
<tr>
<td>wantedApp</td>
<td><code>object</code></td>
<td>io.cozy.app with at least a slug</td>
</tr>
</tbody>
</table>
<p><a name="getUrl"></a></p>
<h2 id="geturl-string">getUrl ⇒ <code>string</code><a class="headerlink" href="#geturl-string" title="Permanent link">&para;</a></h2>
<p><strong>Kind</strong>: global constant<br />
<strong>Returns</strong>: <code>string</code> - url to the app  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>app</td>
<td><code>object</code></td>
<td>io.cozy.apps document</td>
</tr>
</tbody>
</table>
<p><a name="getAppDisplayName"></a></p>
<h2 id="getappdisplayname-string">getAppDisplayName ⇒ <code>string</code><a class="headerlink" href="#getappdisplayname-string" title="Permanent link">&para;</a></h2>
<p>getAppDisplayName - Combines the translated prefix and name of the app into a single string.</p>
<p><strong>Kind</strong>: global constant<br />
<strong>Returns</strong>: <code>string</code> - Name of the app suitable for display  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>app</td>
<td><code>object</code></td>
<td>io.cozy.apps or io.cozy.konnectors document</td>
</tr>
<tr>
<td>lang</td>
<td><code>string</code></td>
<td>Locale to use</td>
</tr>
</tbody>
</table>
<p><a name="getInitials"></a></p>
<h2 id="getinitials-string">getInitials ⇒ <code>string</code><a class="headerlink" href="#getinitials-string" title="Permanent link">&para;</a></h2>
<p>Returns the initials of the contact.</p>
<p><strong>Kind</strong>: global constant<br />
<strong>Returns</strong>: <code>string</code> - - the contact&rsquo;s initials  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>contact</td>
<td><code>object</code></td>
<td>A contact</td>
</tr>
</tbody>
</table>
<p><a name="getPrimaryEmail"></a></p>
<h2 id="getprimaryemail-string">getPrimaryEmail ⇒ <code>string</code><a class="headerlink" href="#getprimaryemail-string" title="Permanent link">&para;</a></h2>
<p>Returns the contact&rsquo;s main email</p>
<p><strong>Kind</strong>: global constant<br />
<strong>Returns</strong>: <code>string</code> - - The contact&rsquo;s main email  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>contact</td>
<td><code>object</code></td>
<td>A contact</td>
</tr>
</tbody>
</table>
<p><a name="getPrimaryCozy"></a></p>
<h2 id="getprimarycozy-string">getPrimaryCozy ⇒ <code>string</code><a class="headerlink" href="#getprimarycozy-string" title="Permanent link">&para;</a></h2>
<p>Returns the contact&rsquo;s main cozy</p>
<p><strong>Kind</strong>: global constant<br />
<strong>Returns</strong>: <code>string</code> - - The contact&rsquo;s main cozy  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>contact</td>
<td><code>object</code></td>
<td>A contact</td>
</tr>
</tbody>
</table>
<p><a name="getPrimaryCozyDomain"></a></p>
<h2 id="getprimarycozydomain-string">getPrimaryCozyDomain ⇒ <code>string</code><a class="headerlink" href="#getprimarycozydomain-string" title="Permanent link">&para;</a></h2>
<p>Returns the contact&rsquo;s main cozy url without protocol</p>
<p><strong>Kind</strong>: global constant<br />
<strong>Returns</strong>: <code>string</code> - - The contact&rsquo;s main cozy url  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>contact</td>
<td><code>object</code></td>
<td>A contact</td>
</tr>
</tbody>
</table>
<p><a name="getPrimaryPhone"></a></p>
<h2 id="getprimaryphone-string">getPrimaryPhone ⇒ <code>string</code><a class="headerlink" href="#getprimaryphone-string" title="Permanent link">&para;</a></h2>
<p>Returns the contact&rsquo;s main phone number</p>
<p><strong>Kind</strong>: global constant<br />
<strong>Returns</strong>: <code>string</code> - - The contact&rsquo;s main phone number  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>contact</td>
<td><code>object</code></td>
<td>A contact</td>
</tr>
</tbody>
</table>
<p><a name="getPrimaryAddress"></a></p>
<h2 id="getprimaryaddress-string">getPrimaryAddress ⇒ <code>string</code><a class="headerlink" href="#getprimaryaddress-string" title="Permanent link">&para;</a></h2>
<p>Returns the contact&rsquo;s main address</p>
<p><strong>Kind</strong>: global constant<br />
<strong>Returns</strong>: <code>string</code> - - The contact&rsquo;s main address  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>contact</td>
<td><code>object</code></td>
<td>A contact</td>
</tr>
</tbody>
</table>
<p><a name="makeFullname"></a></p>
<h2 id="makefullname-string">makeFullname ⇒ <code>string</code><a class="headerlink" href="#makefullname-string" title="Permanent link">&para;</a></h2>
<p>Makes fullname from contact name</p>
<p><strong>Kind</strong>: global constant<br />
<strong>Returns</strong>: <code>string</code> - - The contact&rsquo;s fullname  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>contact</td>
<td><code>*</code></td>
<td>A contact</td>
</tr>
</tbody>
</table>
<p><a name="getFullname"></a></p>
<h2 id="getfullname-string">getFullname ⇒ <code>string</code><a class="headerlink" href="#getfullname-string" title="Permanent link">&para;</a></h2>
<p>Returns the contact&rsquo;s fullname</p>
<p><strong>Kind</strong>: global constant<br />
<strong>Returns</strong>: <code>string</code> - - The contact&rsquo;s fullname  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>contact</td>
<td><code>object</code></td>
<td>A contact</td>
</tr>
</tbody>
</table>
<p><a name="makeDisplayName"></a></p>
<h2 id="makedisplayname-string">makeDisplayName ⇒ <code>string</code><a class="headerlink" href="#makedisplayname-string" title="Permanent link">&para;</a></h2>
<p>Makes displayName from contact data</p>
<p><strong>Kind</strong>: global constant<br />
<strong>Returns</strong>: <code>string</code> - - The contact&rsquo;s displayName  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>contact</td>
<td><code>*</code></td>
<td>A contact</td>
</tr>
</tbody>
</table>
<p><a name="getDisplayName"></a></p>
<h2 id="getdisplayname-string">getDisplayName ⇒ <code>string</code><a class="headerlink" href="#getdisplayname-string" title="Permanent link">&para;</a></h2>
<p>Returns a display name for the contact</p>
<p><strong>Kind</strong>: global constant<br />
<strong>Returns</strong>: <code>string</code> - - the contact&rsquo;s display name  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>contact</td>
<td><code>object</code></td>
<td>A contact</td>
</tr>
</tbody>
</table>
<p><a name="makeDefaultSortIndexValue"></a></p>
<h2 id="makedefaultsortindexvalue-string">makeDefaultSortIndexValue ⇒ <code>string</code><a class="headerlink" href="#makedefaultsortindexvalue-string" title="Permanent link">&para;</a></h2>
<p>Makes &lsquo;byFamilyNameGivenNameEmailCozyUrl&rsquo; index of a contact</p>
<p><strong>Kind</strong>: global constant<br />
<strong>Returns</strong>: <code>string</code> - - the contact&rsquo;s &lsquo;byFamilyNameGivenNameEmailCozyUrl&rsquo; index  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>contact</td>
<td><code>object</code></td>
<td>A contact</td>
</tr>
</tbody>
</table>
<p><a name="getDefaultSortIndexValue"></a></p>
<h2 id="getdefaultsortindexvalue-string">getDefaultSortIndexValue ⇒ <code>string</code><a class="headerlink" href="#getdefaultsortindexvalue-string" title="Permanent link">&para;</a></h2>
<p>Returns &lsquo;byFamilyNameGivenNameEmailCozyUrl&rsquo; index of a contact</p>
<p><strong>Kind</strong>: global constant<br />
<strong>Returns</strong>: <code>string</code> - - the contact&rsquo;s &lsquo;byFamilyNameGivenNameEmailCozyUrl&rsquo; index  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>contact</td>
<td><code>object</code></td>
<td>A contact</td>
</tr>
</tbody>
</table>
<p><a name="getIndexByFamilyNameGivenNameEmailCozyUrl"></a></p>
<h2 id="getindexbyfamilynamegivennameemailcozyurl-string">~~getIndexByFamilyNameGivenNameEmailCozyUrl ⇒ <code>string</code>~~<a class="headerlink" href="#getindexbyfamilynamegivennameemailcozyurl-string" title="Permanent link">&para;</a></h2>
<p><strong><em>Deprecated</em></strong></p>
<p>Returns &lsquo;byFamilyNameGivenNameEmailCozyUrl&rsquo; index of a contact</p>
<p><strong>Kind</strong>: global constant<br />
<strong>Returns</strong>: <code>string</code> - - the contact&rsquo;s &lsquo;byFamilyNameGivenNameEmailCozyUrl&rsquo; index  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>contact</td>
<td><code>object</code></td>
<td>A contact</td>
</tr>
</tbody>
</table>
<p><a name="splitFilename"></a></p>
<h2 id="splitfilename-object">splitFilename ⇒ <code>object</code><a class="headerlink" href="#splitfilename-object" title="Permanent link">&para;</a></h2>
<p>Returns base filename and extension</p>
<p><strong>Kind</strong>: global constant<br />
<strong>Returns</strong>: <code>object</code> - {filename, extension}  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>file</td>
<td><code>object</code></td>
<td>An io.cozy.files</td>
</tr>
</tbody>
</table>
<p><a name="isFile"></a></p>
<h2 id="isfile">isFile<a class="headerlink" href="#isfile" title="Permanent link">&para;</a></h2>
<p><strong>Kind</strong>: global constant  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>file</td>
<td><code>File</code></td>
<td>io.cozy.files</td>
</tr>
</tbody>
</table>
<p><a name="isDirectory"></a></p>
<h2 id="isdirectory">isDirectory<a class="headerlink" href="#isdirectory" title="Permanent link">&para;</a></h2>
<p><strong>Kind</strong>: global constant  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>file</td>
<td><code>File</code></td>
<td>io.cozy.files</td>
</tr>
</tbody>
</table>
<p><a name="isNote"></a></p>
<h2 id="isnote">isNote<a class="headerlink" href="#isnote" title="Permanent link">&para;</a></h2>
<p><strong>Kind</strong>: global constant  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>file</td>
<td><code>File</code></td>
<td>io.cozy.files</td>
</tr>
</tbody>
</table>
<p><a name="isShortcut"></a></p>
<h2 id="isshortcut-boolean">isShortcut ⇒ <code>boolean</code><a class="headerlink" href="#isshortcut-boolean" title="Permanent link">&para;</a></h2>
<p><strong>Kind</strong>: global constant<br />
<strong>Returns</strong>: <code>boolean</code> - true if the file is a shortcut  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>file</td>
<td><code>File</code></td>
<td>io.cozy.files</td>
</tr>
</tbody>
</table>
<p><a name="getSharingShortcutStatus"></a></p>
<h2 id="getsharingshortcutstatus-string">getSharingShortcutStatus ⇒ <code>string</code><a class="headerlink" href="#getsharingshortcutstatus-string" title="Permanent link">&para;</a></h2>
<p>Returns the status of a sharing shortcut.</p>
<p><strong>Kind</strong>: global constant<br />
<strong>Returns</strong>: <code>string</code> - A description of the status  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>file</td>
<td><code>object</code></td>
<td>io.cozy.files document</td>
</tr>
</tbody>
</table>
<p><a name="getSharingShortcutTargetMime"></a></p>
<h2 id="getsharingshortcuttargetmime-string">getSharingShortcutTargetMime ⇒ <code>string</code><a class="headerlink" href="#getsharingshortcuttargetmime-string" title="Permanent link">&para;</a></h2>
<p>Returns the mime type of the target of the sharing shortcut, if it is a file.</p>
<p><strong>Kind</strong>: global constant<br />
<strong>Returns</strong>: <code>string</code> - The mime-type of the target file, or an empty string is the target is not a file.  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>file</td>
<td><code>object</code></td>
<td>io.cozy.files document</td>
</tr>
</tbody>
</table>
<p><a name="getSharingShortcutTargetDoctype"></a></p>
<h2 id="getsharingshortcuttargetdoctype-string">getSharingShortcutTargetDoctype ⇒ <code>string</code><a class="headerlink" href="#getsharingshortcuttargetdoctype-string" title="Permanent link">&para;</a></h2>
<p>Returns the doctype of the target of the sharing shortcut.</p>
<p><strong>Kind</strong>: global constant<br />
<strong>Returns</strong>: <code>string</code> - A doctype  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>file</td>
<td><code>object</code></td>
<td>io.cozy.files document</td>
</tr>
</tbody>
</table>
<p><a name="isSharingShorcut"></a></p>
<h2 id="issharingshorcut-boolean">isSharingShorcut ⇒ <code>boolean</code><a class="headerlink" href="#issharingshorcut-boolean" title="Permanent link">&para;</a></h2>
<p>Returns whether the file is a shortcut to a sharing</p>
<p><strong>Kind</strong>: global constant  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>file</td>
<td><code>object</code></td>
<td>io.cozy.files document</td>
</tr>
</tbody>
</table>
<p><a name="isSharingShorcutNew"></a></p>
<h2 id="issharingshorcutnew-boolean">isSharingShorcutNew ⇒ <code>boolean</code><a class="headerlink" href="#issharingshorcutnew-boolean" title="Permanent link">&para;</a></h2>
<p>Returns whether the sharing shortcut is new</p>
<p><strong>Kind</strong>: global constant  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>file</td>
<td><code>object</code></td>
<td>io.cozy.files document</td>
</tr>
</tbody>
</table>
<p><a name="ensureMagicFolder"></a></p>
<h2 id="ensuremagicfolder-object">ensureMagicFolder ⇒ <code>object</code><a class="headerlink" href="#ensuremagicfolder-object" title="Permanent link">&para;</a></h2>
<p>Returns a &ldquo;Magic Folder&rdquo;, given its id. See https://docs.cozy.io/en/cozy-doctypes/docs/io.cozy.apps/#special-iocozyapps-doctypes</p>
<p><strong>Kind</strong>: global constant<br />
<strong>Returns</strong>: <code>object</code> - Folder document  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>client</td>
<td><code>object</code></td>
<td>cozy-client instance</td>
</tr>
<tr>
<td>id</td>
<td><code>string</code></td>
<td>Magic Folder id. <code>CozyFolder.magicFolders</code> contains the ids of folders that can be magic folders.</td>
</tr>
<tr>
<td>path</td>
<td><code>string</code></td>
<td>Default path to use if magic folder does not exist</td>
</tr>
</tbody>
</table>
<p><a name="createFolderWithReference"></a></p>
<h2 id="createfolderwithreference-object">createFolderWithReference ⇒ <code>object</code><a class="headerlink" href="#createfolderwithreference-object" title="Permanent link">&para;</a></h2>
<p>Create a folder with a reference to the given document</p>
<p><strong>Kind</strong>: global constant<br />
<strong>Returns</strong>: <code>object</code> - Folder document  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>client</td>
<td><code>object</code></td>
<td>cozy-client instance</td>
</tr>
<tr>
<td>path</td>
<td><code>string</code></td>
<td>Folder path</td>
</tr>
<tr>
<td>document</td>
<td><code>object</code></td>
<td>Document to make reference to. Any doctype.</td>
</tr>
</tbody>
</table>
<p><a name="getReferencedFolder"></a></p>
<h2 id="getreferencedfolder-array">getReferencedFolder ⇒ <code>Array</code><a class="headerlink" href="#getreferencedfolder-array" title="Permanent link">&para;</a></h2>
<p>Returns an array of folder referenced by the given document</p>
<p><strong>Kind</strong>: global constant<br />
<strong>Returns</strong>: <code>Array</code> - Array of folders referenced with the given
document  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>client</td>
<td><code>object</code></td>
<td>cozy-client instance</td>
</tr>
<tr>
<td>document</td>
<td><code>object</code></td>
<td>Document to get references from</td>
</tr>
</tbody>
</table>
<p><a name="shouldDisplayOffers"></a></p>
<h2 id="shoulddisplayoffers">shouldDisplayOffers<a class="headerlink" href="#shoulddisplayoffers" title="Permanent link">&para;</a></h2>
<p>Returns whether an instance is concerned by our offers</p>
<p><strong>Kind</strong>: global constant  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td><code>object</code></td>
<td>Object containing all the results from /settings/*</td>
</tr>
<tr>
<td>data.context</td>
<td><code>object</code></td>
<td>Object returned by /settings/context</td>
</tr>
<tr>
<td>data.instance</td>
<td><code>object</code></td>
<td>Object returned by /settings/instance</td>
</tr>
<tr>
<td>data.diskUsage</td>
<td><code>object</code></td>
<td>Object returned by /settings/disk-usage</td>
</tr>
</tbody>
</table>
<p><a name="hasAnOffer"></a></p>
<h2 id="hasanoffer">hasAnOffer<a class="headerlink" href="#hasanoffer" title="Permanent link">&para;</a></h2>
<p>Returns if an instance has subscribed to one of our offers</p>
<p><strong>Kind</strong>: global constant  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td><code>object</code></td>
<td>Object containing all the results from /settings/*</td>
</tr>
<tr>
<td>data.context</td>
<td><code>object</code></td>
<td>Object returned by /settings/context</td>
</tr>
<tr>
<td>data.instance</td>
<td><code>object</code></td>
<td>Object returned by /settings/instance</td>
</tr>
<tr>
<td>data.diskUsage</td>
<td><code>object</code></td>
<td>Object returned by /settings/disk-usage</td>
</tr>
</tbody>
</table>
<p><a name="buildPremiumLink"></a></p>
<h2 id="buildpremiumlink">buildPremiumLink<a class="headerlink" href="#buildpremiumlink" title="Permanent link">&para;</a></h2>
<p>Returns the link to the Premium page on the Cozy&rsquo;s Manager</p>
<p><strong>Kind</strong>: global constant  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>instanceInfo</td>
<td><code>object</code></td>
</tr>
</tbody>
</table>
<p><a name="generatePrivateUrl"></a></p>
<h2 id="generateprivateurl">generatePrivateUrl<a class="headerlink" href="#generateprivateurl" title="Permanent link">&para;</a></h2>
<p><strong>Kind</strong>: global constant  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>notesAppUrl</td>
<td><code>string</code></td>
<td>URL to the Notes App (https://notes.foo.mycozy.cloud)</td>
</tr>
<tr>
<td>file</td>
<td><code>object</code></td>
<td>io.cozy.files object</td>
</tr>
</tbody>
</table>
<p><a name="fetchURL"></a></p>
<h2 id="fetchurl-string">fetchURL ⇒ <code>string</code><a class="headerlink" href="#fetchurl-string" title="Permanent link">&para;</a></h2>
<p>Fetch and build an URL to open a note.</p>
<p><strong>Kind</strong>: global constant<br />
<strong>Returns</strong>: <code>string</code> - url  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>client</td>
<td><code>object</code></td>
<td>CozyClient instance</td>
</tr>
<tr>
<td>file</td>
<td><code>object</code></td>
<td>io.cozy.file object</td>
</tr>
</tbody>
</table>
<p><a name="triggerStates"></a></p>
<h2 id="triggerstates">triggerStates<a class="headerlink" href="#triggerstates" title="Permanent link">&para;</a></h2>
<p>Trigger states come from /jobs/triggers</p>
<p><strong>Kind</strong>: global constant  </p>
<ul>
<li><a href="#triggerStates">triggerStates</a>
    * <a href="#triggerStates.getLastExecution">.getLastExecution()</a>
    * <a href="#triggerStates.getLastsuccess">.getLastsuccess()</a>
    * <a href="#triggerStates.isErrored">.isErrored()</a>
    * <a href="#triggerStates.getLastErrorType">.getLastErrorType()</a></li>
</ul>
<p><a name="triggerStates.getLastExecution"></a></p>
<h3 id="triggerstatesgetlastexecution">triggerStates.getLastExecution()<a class="headerlink" href="#triggerstatesgetlastexecution" title="Permanent link">&para;</a></h3>
<p>Returns when the trigger was last executed. Need a trigger</p>
<p><strong>Kind</strong>: static method of <a href="#triggerStates"><code>triggerStates</code></a><br />
<a name="triggerStates.getLastsuccess"></a></p>
<h3 id="triggerstatesgetlastsuccess">triggerStates.getLastsuccess()<a class="headerlink" href="#triggerstatesgetlastsuccess" title="Permanent link">&para;</a></h3>
<p>Returns when the trigger was last successfully executed.</p>
<p><strong>Kind</strong>: static method of <a href="#triggerStates"><code>triggerStates</code></a><br />
<a name="triggerStates.isErrored"></a></p>
<h3 id="triggerstatesiserrored">triggerStates.isErrored()<a class="headerlink" href="#triggerstatesiserrored" title="Permanent link">&para;</a></h3>
<p>Returns whether last job failed</p>
<p><strong>Kind</strong>: static method of <a href="#triggerStates"><code>triggerStates</code></a><br />
<a name="triggerStates.getLastErrorType"></a></p>
<h3 id="triggerstatesgetlasterrortype">triggerStates.getLastErrorType()<a class="headerlink" href="#triggerstatesgetlasterrortype" title="Permanent link">&para;</a></h3>
<p>Returns the type of the last error to occur</p>
<p><strong>Kind</strong>: static method of <a href="#triggerStates"><code>triggerStates</code></a><br />
<a name="fetchPolicies"></a></p>
<h2 id="fetchpolicies">fetchPolicies<a class="headerlink" href="#fetchpolicies" title="Permanent link">&para;</a></h2>
<p>Use those fetch policies with <code>&lt;Query /&gt;</code> to limit the number of re-fetch.</p>
<p><strong>Kind</strong>: global constant<br />
<strong>Example</strong>  </p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="p">{</span> <span class="n">fetchPolicies</span> <span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;cozy-client&#39;</span>
<span class="n">const</span> <span class="n">olderThan30s</span> <span class="o">=</span> <span class="n">fetchPolicies</span><span class="o">.</span><span class="n">olderThan</span><span class="p">(</span><span class="mi">30</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">Query</span> <span class="n">fetchPolicy</span><span class="o">=</span><span class="p">{</span><span class="n">olderThan30s</span><span class="p">}</span> <span class="o">/&gt;</span>
</pre></div>


<ul>
<li><a href="#fetchPolicies">fetchPolicies</a>
    * <a href="#fetchPolicies.olderThan">.olderThan(delay)</a> ⇒ <code>function</code>
    * <a href="#fetchPolicies.noFetch">.noFetch()</a></li>
</ul>
<p><a name="fetchPolicies.olderThan"></a></p>
<h3 id="fetchpoliciesolderthandelay-function">fetchPolicies.olderThan(delay) ⇒ <code>function</code><a class="headerlink" href="#fetchpoliciesolderthandelay-function" title="Permanent link">&para;</a></h3>
<p>Returns a fetchPolicy that will only re-fetch queries that are older
than <code>&lt;delay&gt;</code> ms.</p>
<p><strong>Kind</strong>: static method of <a href="#fetchPolicies"><code>fetchPolicies</code></a><br />
<strong>Returns</strong>: <code>function</code> - Fetch policy to be used with <code>&lt;Query /&gt;</code>  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>delay</td>
<td><code>number</code></td>
<td>Milliseconds since the query has been fetched</td>
</tr>
</tbody>
</table>
<p><a name="fetchPolicies.noFetch"></a></p>
<h3 id="fetchpoliciesnofetch">fetchPolicies.noFetch()<a class="headerlink" href="#fetchpoliciesnofetch" title="Permanent link">&para;</a></h3>
<p>Fetch policy that deactivates any fetching.</p>
<p><strong>Kind</strong>: static method of <a href="#fetchPolicies"><code>fetchPolicies</code></a><br />
<a name="Q"></a></p>
<h2 id="q">Q<a class="headerlink" href="#q" title="Permanent link">&para;</a></h2>
<p>Helper to create a QueryDefinition. Recommended way to create
query definitions.</p>
<p><strong>Kind</strong>: global constant<br />
<strong>Example</strong>  </p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="p">{</span> <span class="n">Q</span> <span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;cozy-client&#39;</span>

<span class="n">const</span> <span class="n">qDef</span> <span class="o">=</span> <span class="n">Q</span><span class="p">(</span><span class="s1">&#39;io.cozy.todos&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">({</span> <span class="n">_id</span><span class="p">:</span> <span class="s1">&#39;1234&#39;</span> <span class="p">})</span>
</pre></div>


<p><a name="isQueryLoading"></a></p>
<h2 id="isqueryloading">isQueryLoading<a class="headerlink" href="#isqueryloading" title="Permanent link">&para;</a></h2>
<p>Returns whether the result of a query (given via queryConnect or Query)
is loading.</p>
<p><strong>Kind</strong>: global constant<br />
<a name="hasQueryBeenLoaded"></a></p>
<h2 id="hasquerybeenloaded">hasQueryBeenLoaded<a class="headerlink" href="#hasquerybeenloaded" title="Permanent link">&para;</a></h2>
<p>Returns whether a query has been loaded at least once</p>
<p><strong>Kind</strong>: global constant<br />
<a name="createClientInteractive"></a></p>
<h2 id="createclientinteractiveclientoptions">createClientInteractive(clientOptions)<a class="headerlink" href="#createclientinteractiveclientoptions" title="Permanent link">&para;</a></h2>
<p>Creates a client with interactive authentication.</p>
<ul>
<li>Will start an OAuth flow and open an authentication page</li>
<li>Starts a local server to listen for the oauth callback</li>
<li>Resolves with the client after user authentication</li>
</ul>
<p><strong>Kind</strong>: global function  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>clientOptions</td>
<td><code>object</code></td>
<td>Same as CozyClient::constructor.</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong>  </p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="p">{</span> <span class="n">createClientInteractive</span> <span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;cozy-client/dist/cli&#39;</span>
<span class="n">await</span> <span class="n">createClientInteractive</span><span class="p">({</span>
  <span class="n">uri</span><span class="p">:</span> <span class="s1">&#39;http://cozy.tools:8080&#39;</span><span class="p">,</span>
  <span class="n">scope</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;io.cozy.bills&#39;</span><span class="p">],</span>
  <span class="n">oauth</span><span class="p">:</span> <span class="p">{</span>
    <span class="n">softwareID</span><span class="p">:</span> <span class="s1">&#39;my-cli-application-using-bills&#39;</span>
  <span class="p">}</span>
<span class="p">})</span>
</pre></div>


<p><a name="withClient"></a></p>
<h2 id="withclientcomponent-function">withClient(Component) ⇒ <code>function</code><a class="headerlink" href="#withclientcomponent-function" title="Permanent link">&para;</a></h2>
<p>HOC to provide client from context as prop</p>
<p><strong>Kind</strong>: global function<br />
<strong>Returns</strong>: <code>function</code> - - Component that will receive client as prop  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Component</td>
<td><code>Component</code></td>
<td>wrapped component</td>
</tr>
</tbody>
</table>
<p><a name="queryConnect"></a></p>
<h2 id="queryconnectqueryspecs-function">queryConnect(querySpecs) ⇒ <code>function</code><a class="headerlink" href="#queryconnectqueryspecs-function" title="Permanent link">&para;</a></h2>
<p>HOC creator to connect component to several queries in a declarative manner</p>
<p><strong>Kind</strong>: global function<br />
<strong>Returns</strong>: <code>function</code> - - HOC to apply to a component  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>querySpecs</td>
<td><code>object</code></td>
<td>Definition of the queries</td>
</tr>
</tbody>
</table>
<p><a name="queryConnectFlat"></a></p>
<h2 id="queryconnectflatqueryspecs-function">queryConnectFlat(querySpecs) ⇒ <code>function</code><a class="headerlink" href="#queryconnectflatqueryspecs-function" title="Permanent link">&para;</a></h2>
<p>HOC creator to connect component to several queries in a declarative manner
The only difference with queryConnect is that it does not wrap the component in N component
if there are N queries, only 1 extra level of nesting is introduced.</p>
<p><strong>Kind</strong>: global function<br />
<strong>Returns</strong>: <code>function</code> - - HOC to apply to a component  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>querySpecs</td>
<td><code>object</code></td>
<td>Definition of the queries</td>
</tr>
</tbody>
</table>
<p><a name="getErrorComponent"></a></p>
<h2 id="geterrorcomponenterror-function-null">getErrorComponent(error) ⇒ <code>function</code> | <code>null</code><a class="headerlink" href="#geterrorcomponenterror-function-null" title="Permanent link">&para;</a></h2>
<p>Returns the handler for an error</p>
<p><strong>Kind</strong>: global function<br />
<strong>Returns</strong>: <code>function</code> | <code>null</code> - React Component  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>error</td>
<td><code>Error</code></td>
<td>-</td>
</tr>
</tbody>
</table>
<p><a name="useFetchJSON"></a></p>
<h2 id="usefetchjson">useFetchJSON()<a class="headerlink" href="#usefetchjson" title="Permanent link">&para;</a></h2>
<p>Hook to use the generic fetchJSON method</p>
<p>Takes the same arguments as fetchJSON</p>
<p>Returns an object with the same keys { data, fetchStatus, error } as useQuery</p>
<p><strong>Kind</strong>: global function<br />
<a name="useQuery"></a></p>
<h2 id="usequeryquerydefinition-options-object">useQuery(queryDefinition, options) ⇒ <code>object</code><a class="headerlink" href="#usequeryquerydefinition-options-object" title="Permanent link">&para;</a></h2>
<p>Fetches a queryDefinition and returns the queryState</p>
<p><strong>Kind</strong>: global function  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>queryDefinition</td>
<td><code>object</code></td>
<td>Definition created with Q()</td>
</tr>
<tr>
<td>options</td>
<td><code>object</code></td>
<td>Options</td>
</tr>
<tr>
<td>options.as</td>
<td><code>object</code></td>
<td>Name for the query [required]</td>
</tr>
<tr>
<td>options.fetchPolicy</td>
<td><code>object</code></td>
<td>Fetch policy</td>
</tr>
<tr>
<td>options.singleDocData</td>
<td><code>object</code></td>
<td>If true, the &ldquo;data&rdquo; returned will be a single doc instead of an array for single doc queries. Defaults to false for backward compatibility but will be set to true in the future.</td>
</tr>
</tbody>
</table>
<p><a name="sanitizeCategories"></a></p>
<h2 id="sanitizecategories">sanitizeCategories()<a class="headerlink" href="#sanitizecategories" title="Permanent link">&para;</a></h2>
<p>Filters unauthorized categories. Defaults to [&lsquo;others&rsquo;] if no suitable category.</p>
<p><strong>Kind</strong>: global function<br />
<a name="sanitize"></a></p>
<h2 id="sanitizemanifest-manifest">sanitize(manifest) ⇒ <code>Manifest</code><a class="headerlink" href="#sanitizemanifest-manifest" title="Permanent link">&para;</a></h2>
<p>Normalize app manifest, retrocompatibility for old manifests</p>
<p><strong>Kind</strong>: global function  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>manifest</td>
<td><code>Manifest</code></td>
</tr>
</tbody>
</table>
<p><a name="createMockClient"></a></p>
<h2 id="createmockclientoptions-cozyclient">createMockClient(options) ⇒ <a href="#CozyClient"><code>CozyClient</code></a><a class="headerlink" href="#createmockclientoptions-cozyclient" title="Permanent link">&para;</a></h2>
<p>Creates a client suitable for use in tests</p>
<ul>
<li>client.{query,save} are mocked</li>
<li>client.stackClient.fetchJSON is mocked</li>
</ul>
<p><strong>Kind</strong>: global function  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>options</td>
<td><code>object</code></td>
<td>Options</td>
</tr>
<tr>
<td>options.queries</td>
<td><code>object</code></td>
<td>Prefill queries inside the store</td>
</tr>
<tr>
<td>options.remote</td>
<td><code>object</code></td>
<td>Mock data from the server</td>
</tr>
<tr>
<td>options.clientOptions</td>
<td><code>object</code></td>
<td>Options passed to the client</td>
</tr>
</tbody>
</table>
<p><a name="normalize"></a></p>
<h2 id="normalizefile-object">normalize(file) ⇒ <code>object</code><a class="headerlink" href="#normalizefile-object" title="Permanent link">&para;</a></h2>
<p>Normalizes an object representing a io.cozy.files object</p>
<p>Ensures existence of <code>_id</code> and <code>_type</code></p>
<p><strong>Kind</strong>: global function<br />
<strong>Returns</strong>: <code>object</code> - full normalized object<br />
<strong>Access</strong>: public  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>file</td>
<td><code>object</code></td>
<td>object representing the file</td>
</tr>
</tbody>
</table>
<p><a name="ensureFilePath"></a></p>
<h2 id="ensurefilepathfile-parent-object">ensureFilePath(file, parent) ⇒ <code>object</code><a class="headerlink" href="#ensurefilepathfile-parent-object" title="Permanent link">&para;</a></h2>
<p>Ensure the file has a <code>path</code> attribute, or build it</p>
<p><strong>Kind</strong>: global function<br />
<strong>Returns</strong>: <code>object</code> - file object with path attribute<br />
<strong>Access</strong>: public  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>file</td>
<td><code>object</code></td>
<td>object representing the file</td>
</tr>
<tr>
<td>parent</td>
<td><code>object</code></td>
<td>parent directory for the file</td>
</tr>
</tbody>
</table>
<p><a name="getParentFolderId"></a></p>
<h2 id="getparentfolderidfile-string-null">getParentFolderId(file) ⇒ <code>string</code> | <code>null</code><a class="headerlink" href="#getparentfolderidfile-string-null" title="Permanent link">&para;</a></h2>
<p>Get the id of the parent folder (<code>null</code> for the root folder)</p>
<p><strong>Kind</strong>: global function<br />
<strong>Returns</strong>: <code>string</code> | <code>null</code> - id of the parent folder, if any  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>file</td>
<td><code>object</code></td>
<td>io.cozy.files document</td>
</tr>
</tbody>
</table>
<p><a name="fetchOwn"></a></p>
<h2 id="fetchownclient-arraypermissionitem">fetchOwn(client) ⇒ <a href="#PermissionItem"><code>Array.&lt;PermissionItem&gt;</code></a><a class="headerlink" href="#fetchownclient-arraypermissionitem" title="Permanent link">&para;</a></h2>
<p>Fetches the list of permissions blocks</p>
<p><strong>Kind</strong>: global function<br />
<strong>Returns</strong>: <a href="#PermissionItem"><code>Array.&lt;PermissionItem&gt;</code></a> - list of permissions  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>client</td>
<td><a href="#CozyClient"><code>CozyClient</code></a></td>
<td>-</td>
</tr>
</tbody>
</table>
<p><a name="isForType"></a></p>
<h2 id="isfortypepermission-type">isForType(permission, type)<a class="headerlink" href="#isfortypepermission-type" title="Permanent link">&para;</a></h2>
<p>Checks if the permission item is about a specific doctype</p>
<p><strong>Kind</strong>: global function  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>permission</td>
<td><a href="#PermissionItem"><code>PermissionItem</code></a></td>
<td>-</td>
</tr>
<tr>
<td>type</td>
<td><code>string</code></td>
<td>doctype</td>
</tr>
</tbody>
</table>
<p><a name="fetchMore"></a></p>
<h2 id="fetchmore">fetchMore()<a class="headerlink" href="#fetchmore" title="Permanent link">&para;</a></h2>
<p>Generates and executes a query that is offsetted by the number of documents
we have in the store.</p>
<p><strong>Kind</strong>: global function<br />
<a name="getQueryAttributes"></a></p>
<h2 id="getqueryattributes">getQueryAttributes()<a class="headerlink" href="#getqueryattributes" title="Permanent link">&para;</a></h2>
<p>Get attributes that will be assigned to the instance of a Query</p>
<p><strong>Kind</strong>: global function<br />
<a name="cancelable"></a></p>
<h2 id="cancelablepromise-augmentedpromise">cancelable(promise) ⇒ <code>AugmentedPromise</code><a class="headerlink" href="#cancelablepromise-augmentedpromise" title="Permanent link">&para;</a></h2>
<p>Wraps a promise so that it can be canceled</p>
<p>Rejects with canceled: true as soon as cancel is called</p>
<p><strong>Kind</strong>: global function<br />
<strong>Returns</strong>: <code>AugmentedPromise</code> - - Promise with .cancel method  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>promise</td>
<td><code>Promise</code></td>
</tr>
</tbody>
</table>
<p><a name="withMutations"></a></p>
<h2 id="withmutationsmutations-function">~~withMutations(&hellip;mutations) ⇒ <code>function</code>~~<a class="headerlink" href="#withmutationsmutations-function" title="Permanent link">&para;</a></h2>
<p><strong><em>Deprecated</em></strong></p>
<p>HOC to provide mutations to components. Needs client in context or as prop.</p>
<p><strong>Kind</strong>: global function<br />
<strong>Returns</strong>: <code>function</code> - - Component that will receive mutations as props  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>&hellip;mutations</td>
<td><code>function</code></td>
<td>One ore more mutations, which are function taking CozyClient as parameter and returning an object containing one or more mutations as attributes.</td>
</tr>
</tbody>
</table>
<p><a name="QueryState"></a></p>
<h2 id="querystate-object">QueryState : <code>object</code><a class="headerlink" href="#querystate-object" title="Permanent link">&para;</a></h2>
<p><strong>Kind</strong>: global typedef<br />
<a name="Reference"></a></p>
<h2 id="reference-object">Reference : <code>object</code><a class="headerlink" href="#reference-object" title="Permanent link">&para;</a></h2>
<p>A reference to a document (special case of a relationship used between photos and albums)
https://docs.cozy.io/en/cozy-doctypes/docs/io.cozy.files/#references</p>
<p><strong>Kind</strong>: global typedef<br />
<strong>Properties</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>_id</td>
<td><code>string</code></td>
<td>id of the document</td>
</tr>
<tr>
<td>_type</td>
<td><code>string</code></td>
<td>doctype of the document</td>
</tr>
</tbody>
</table>
<p><a name="CozyAccount"></a></p>
<h2 id="cozyaccount-object">CozyAccount : <code>object</code><a class="headerlink" href="#cozyaccount-object" title="Permanent link">&para;</a></h2>
<p><strong>Kind</strong>: global typedef<br />
<a name="Document"></a></p>
<h2 id="document-object">Document : <code>object</code><a class="headerlink" href="#document-object" title="Permanent link">&para;</a></h2>
<p>Couchdb document like an io.cozy.files</p>
<p><strong>Kind</strong>: global typedef<br />
<strong>Properties</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>_id</td>
<td><code>string</code></td>
</tr>
<tr>
<td>_type</td>
<td><code>string</code></td>
</tr>
</tbody>
</table>
<p><a name="PermissionVerb"></a></p>
<h2 id="permissionverb-all-get-patch-post-put-delete">PermissionVerb : <code>&#x27;ALL&#x27;</code> | <code>&#x27;GET&#x27;</code> | <code>&#x27;PATCH&#x27;</code> | <code>&#x27;POST&#x27;</code> | <code>&#x27;PUT&#x27;</code> | <code>&#x27;DELETE&#x27;</code><a class="headerlink" href="#permissionverb-all-get-patch-post-put-delete" title="Permanent link">&para;</a></h2>
<p><strong>Kind</strong>: global typedef<br />
<a name="PermissionItem"></a></p>
<h2 id="permissionitem-object">PermissionItem : <code>object</code><a class="headerlink" href="#permissionitem-object" title="Permanent link">&para;</a></h2>
<p><strong>Kind</strong>: global typedef<br />
<strong>Properties</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>verbs</td>
<td><a href="#PermissionVerb"><code>Array.&lt;PermissionVerb&gt;</code></a></td>
<td>ALL, GET, PUT, PATCH, DELETE, POST…</td>
</tr>
<tr>
<td>selector</td>
<td><code>string</code></td>
<td>defaults to <code>id</code></td>
</tr>
<tr>
<td>values</td>
<td><code>Array.&lt;string&gt;</code></td>
<td></td>
</tr>
<tr>
<td>type</td>
<td><code>string</code></td>
<td>a couch db database like &lsquo;io.cozy.files&rsquo;</td>
</tr>
</tbody>
</table>
<p><a name="HydratedQueryState"></a></p>
<h2 id="hydratedquerystate-hydratedquerystate">HydratedQueryState ⇒ <a href="#HydratedQueryState"><code>HydratedQueryState</code></a><a class="headerlink" href="#hydratedquerystate-hydratedquerystate" title="Permanent link">&para;</a></h2>
<p>Returns the query from the store with hydrated documents.</p>
<p><strong>Kind</strong>: global typedef<br />
<a name="RegistryApp"></a></p>
<h2 id="registryapp-object">RegistryApp : <code>object</code><a class="headerlink" href="#registryapp-object" title="Permanent link">&para;</a></h2>
<p><strong>Kind</strong>: global typedef<br />
<strong>Properties</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>slug</td>
<td><code>string</code></td>
</tr>
<tr>
<td>terms</td>
<td><code>object</code></td>
</tr>
<tr>
<td>installed</td>
<td><code>boolean</code></td>
</tr>
</tbody>
</table>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../details/" title="Other details" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Other details
              </span>
            </div>
          </a>
        
        
          <a href="../cozy-pouch-link/" title="Cozy Pouch Link API" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Cozy Pouch Link API
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.245445c6.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script>
      
        <script src="../../../extra.js"></script>
      
    
  </body>
</html>